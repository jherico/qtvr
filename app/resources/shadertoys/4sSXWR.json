{"Shader":{"ver":"0.1","info":{"id":"4sSXWR","date":"1410621726","viewed":819,"name":"maze 2","username":"FabriceNeyret2","description":".","likes":6,"published":3,"flags":0,"tags":["maze","short"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"float t = iGlobalTime;\n#define rnd( x)    fract(1000.*sin(345.2345*x))\n#define id( x,y)   floor(x)+100.*floor(y)\n\nfloat maze(vec2 u) {\n    float n = id(u.x,u.y);  u = fract(u);\n    return 1.-smoothstep(.1,.15,((rnd(n)>.5)?u.x:u.y));\n}\n\nvoid mainImage( out vec4 o, vec2 u ){\n\tu  \/= iResolution.y;\n    u = (u + vec2(1.8*cos(.2*t)+.6*sin(.4*t), sin(.3*t)+.4*cos(.4*t)) ) * (1.2-cos(.5*t));\n    float a = 3.*(cos(.05*t)-.5*cos(1.-.1*t)), C=cos(a), S=sin(a),\n          v = 0., w=1., s=0.; u *= 2.*mat2(C,-S,S,C);\n\n #define L  v+= w*maze(u*=4.); s+= w;  w *= .3;\n    L L L L\n    \n\to += 1.-v\/s -o;\n}\n\n\n\/* \/\/ --- expended version\n\nfloat t = iGlobalTime;\nfloat rnd(float x) { return fract(1000.*sin(345.2345*x)); }\nfloat id(float x, float y) { return floor(x)+100.*floor(y); }\n\nfloat maze(vec2 uv) {\n    float n = id(uv.x,uv.y);  uv = fract(uv);\n    return 1.-smoothstep(.1,.15,((rnd(n)>.5)?uv.x:uv.y));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n\tvec2 uv = fragCoord.xy \/ iResolution.y;\n    uv = (uv + vec2(1.8*cos(.2*t)+.6*sin(.4*t),sin(.3*t)+.4*cos(.4*t)) ) * (1.2-cos(.5*t));\n    float a = 3.*(cos(.05*t)-.5*cos(1.-.1*t)), C=cos(a), S=sin(a); uv*=mat2(C,-S,S,C);\n\n    float v = 0., w=1., s=0.; uv *= 2.;\n    for(int i=0; i<3; i++) { \n        uv *= 4.;  \n        v+= w*maze(uv); s+= w; \n        w *= .3;\n    }\n\tfragColor = vec4(1.-v\/s);\n}\n\/**\/","name":"","description":"","type":"image"}]}}