{"Shader":{"ver":"0.1","info":{"id":"lsfXDl","date":"1407863432","viewed":783,"name":"Whitney wheel","username":"lost4468","description":"Based on http:\/\/whitneymusicbox.org\/","likes":7,"published":3,"flags":8,"tags":["sound","wheel","whitney"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"#define PI 3.14159265359\n#define PI2 PI*2.0\n\nconst int numBalls = 25;\nconst float cycleTime = 50.0;\nconst float sphereSize = 1.0 \/ float(numBalls);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = 2.0 * (fragCoord.xy \/ iResolution.xy - vec2(0.5, 0.5));\n    uv.x *= iResolution.x \/ iResolution.y;\n    \n    vec3 colour = vec3(0.0, 0.0, 0.0);\n    \n    float r = sqrt(uv.x*uv.x + uv.y*uv.y);\n    float phi = atan(uv.x, uv.y) + PI;\n    float sphereNum = floor(r \/ sphereSize + 0.5);\n\n    if(sphereNum > 1.0 \/ sphereSize)\n        return;\n    \n    float sphereP = iGlobalTime * sphereNum * PI2 \/ cycleTime;\n    \n    colour.r = 1.0 - mod(sphereP - phi, PI2) \/ 0.5;\n    colour.b = 1.0 - mod(sphereP, PI2) \/ 0.5;\n\n    vec2 dp = 1.005 \/ iResolution.xy;\n    \n    if(uv.x >= -dp.x && uv.x <= dp.y && uv.y <= 0.0)\n        colour = vec3(1.0, 1.0, 1.0);\n    \n    fragColor = vec4(colour, 1.0);\n}","name":"","description":"","type":"image"},{"inputs":[],"outputs":[{"channel":"0"}],"code":"#define PI 3.14159265359\n#define PI2 PI*2.0\n\nconst int numBalls = 25;\nconst float cycleTime = 50.0;\n\nvec2 mainSound(float time)\n{\n    vec2 retSound = vec2(0.0,0.0);\n    \n    for(int i = 0; i < numBalls + 1; i++)\n    {\n        float ballPos = mod(float(i) * time * PI2 \/ cycleTime, PI2);\n        retSound += vec2(sin(PI2*440.0 * ballPos)*exp(-3.0*ballPos));\n    }\n    \n    return retSound;\n}","name":"","description":"","type":"sound"}]}}