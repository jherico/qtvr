{"Shader":{"ver":"0.1","info":{"id":"ltfSDl","date":"1440505519","viewed":1598,"name":"motion illusion 3","username":"FabriceNeyret2","description":"does the ball quit the center ? :-)<br\/><br\/>(for the Shepard scale, see also here: https:\/\/www.shadertoy.com\/view\/XdlXWX )","likes":18,"published":3,"flags":8,"tags":["texture","advection","2tweets","short"],"hasliked":0},"renderpass":[{"inputs":[{"id":2,"src":"\/presets\/tex01.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"void mainImage( out vec4 o, vec2 p )\n{\n    o -= o;\n\tp \/= iResolution.xy;\n    float s = 0.,a,t,S,C;\n    for (float i=-3.; i<= 3.; i++) {\n        s += a = .5+.5*cos(t= fract(iGlobalTime)-i);  \n        t *= .6*smoothstep(0.,1.,length(p-.5));     \n\t    o += a*texture2D(iChannel0,mat2(C=cos(t),S=sin(t),-S,C)*(p-.5)+.1*iGlobalTime);\n    } \n    o \/= s;\n    o = 2.*o-.5;\n}","name":"","description":"","type":"image"},{"inputs":[],"outputs":[{"channel":"0"}],"code":"\/\/ grabbed from my Shepard shader https:\/\/www.shadertoy.com\/view\/XdlXWX\n\n#define T 8.    \/\/ cycling time\n#define N 56.   \/\/ number of peaks\n#define O 1.23  \/\/ octaves\n#define dPI 6.283185\n\nvec2 mainSound(float time)\n{\n    float v = 0.;\n    for (float i=0.; i<=N; i++) {\n        float enveloppe = ( 1.-cos(dPI*i\/N)) \/2.;\n        \/\/float freq = pow(O,fract(time\/T));\n        \/\/ phase = int of freq\n        float phase = floor(time\/T) + pow(O,-fract(time\/T))-1.;\n        phase = phase * pow(O,i) * T\/log(O) + i;\n        v += enveloppe*sin(dPI*phase);\n    }\n    \n    return vec2( v\/N );\n}\n","name":"","description":"","type":"sound"}]}}