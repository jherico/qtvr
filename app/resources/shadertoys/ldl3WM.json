{"Shader":{"ver":"0.1","info":{"id":"ldl3WM","date":"1372314957","viewed":968,"name":"cartoon video - test","username":"FabriceNeyret2","description":"sobel  mask  times colorized smoothed saturated image","likes":2,"published":3,"flags":0,"tags":["imageprocessing"],"hasliked":0},"renderpass":[{"inputs":[{"id":12,"src":"\/presets\/vid01.webm","ctype":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"float eps = .007;\n#define PI 3.1415927\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy \/ iResolution.xy;\n\tvec3 t   = texture2D(iChannel0, uv).rgb;\n\tvec3 t00 = texture2D(iChannel0, uv+vec2(-eps,-eps)).rgb;\n\tvec3 t10 = texture2D(iChannel0, uv+vec2( eps,-eps)).rgb;\n\tvec3 t01 = texture2D(iChannel0, uv+vec2(-eps, eps)).rgb;\n\tvec3 t11 = texture2D(iChannel0, uv+vec2( eps, eps)).rgb;\n\tvec3 tm = (t00+t01+t10+t11)\/4.;\n\tvec3 v=t; vec3 c;\n\t\/\/t = .5+.5*sin(vec4(100.,76.43,23.75,1.)*t);\n\tt = t-tm;\n\t\/\/t = 1.-t;\n\tt = t*t*t;\n\t\/\/t = 1.-t;\n\tv=t;\n\tv = 10000.*t;\n\n\tfloat g = (tm.x-.3)*5.;\n\t\/\/g = (g-.5); g = g*g*g\/2.-.5; \n\tvec3 col0 = vec3(0.,0.,0.);\n\tvec3 col1 = vec3(.2,.5,1.);\n\tvec3 col2 = vec3(1.,.8,.7);\n\tvec3 col3 = vec3(1.,1.,1.);\n\tif      (g > 2.) c = mix(col2,col3,g-2.);\n\telse if (g > 1.) c = mix(col1,col2,g-1.);\n\telse             c = mix(col0,col1,g);\n\t\t\n\tc = clamp(c,0.,1.);\n\tv = clamp(v,0.,1.);\n\tv = c*(1.-v); \n\t\/\/v = c-1.5*(1.-v); v = 1.-v;\n\tv = clamp(v,0.,1.);\n\tif (v==col0) v=col3;\n\tfragColor = vec4(v,1.);\n}","name":"","description":"","type":"image"}]}}