{"Shader":{"ver":"0.1","info":{"id":"4sXXR7","date":"1398088500","viewed":753,"name":"Color illusion in spirals","username":"FabriceNeyret2","description":"There is no blue spiral. only green\/pink (large spirals).<br\/>Works with any colors in the 3 defines.","likes":4,"published":3,"flags":16,"tags":["illusion","short"],"hasliked":0},"renderpass":[{"inputs":[{"id":33,"src":"\/presets\/tex00.jpg","ctype":"keyboard","channel":2,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/ inspired from http:\/\/www.moillusions.com\/color-optical-illusion\/\n\n#define LARGE_SPIRAL_COL1 vec3(0.,1.,.5)\n#define LARGE_SPIRAL_COL2 vec3(1.,0.,1.)\n#define SMALL_SPIRAL_COL  vec3(1.,.7,0.)\n\t\n#define PI 3.14159265359\nbool keyToggle(int ascii) \n{ return (texture2D(iChannel2,vec2((.5+float(ascii))\/256.,0.75)).x > 0.); }\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = 2.* (fragCoord.xy \/ iResolution.y - vec2(.8,.5));\n\tvec2 mouse = iMouse.xy \/ iResolution.xy;\n\n\tif (iMouse.z<=0.) mouse.x = (1.+sin(.6*iGlobalTime))\/2.;\n\t\n\tfloat r = length(uv); float a = atan(uv.y,uv.x); \/\/ to polar\n\tfloat s1 = a - mouse.x*40.* 2.*PI*r,\n\t\t  s2 = 6.*a + 2.*2.*PI*log(r),\n\t\t  s3 = 6.*a + 2.*2.*PI*log(r);\n\tfloat c1 = smoothstep(-.25,.25,sin(s1)),\n\t\t  c2 = smoothstep(-.01,.01,sin(s2)),\n\t\t  c3 = smoothstep( .67,.666,sin(s3\/2.-3.*PI\/4.));\n\n\tvec3 col  = mix( SMALL_SPIRAL_COL,  LARGE_SPIRAL_COL2,1.-c3);\n\tvec3 col2 = mix( LARGE_SPIRAL_COL2, LARGE_SPIRAL_COL1, c2 );\n\tc1 = mix(c1,1.-c1,c3);\n\tcol = mix(col,col2,c1);\n\tfragColor = vec4(col,1.);\n}","name":"","description":"","type":"image"}]}}