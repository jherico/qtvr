{"Shader":{"ver":"0.1","info":{"id":"4ssGRX","date":"1375799234","viewed":795,"name":"POV (persistance of vision)","username":"FabriceNeyret2","description":"try pause\/play to understand what you've seen... or not :-D","likes":1,"published":3,"flags":0,"tags":["illusion","persistancy"],"hasliked":0},"renderpass":[{"inputs":[{"id":17,"src":"\/presets\/tex12.png","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/ persistance of vision --- Fabrice NEYRET, August 2013\n\/\/ see also:\n\/\/ - http:\/\/www.squidi.net\/three\/entry.php?id=56\n\/\/ - http:\/\/zarfoubo.blogspot.fr\/2014\/03\/lart-des-animgifs.html , section \"stereovision galliform\"\n\/\/ - texture advection: videos *_pigm.wmv in paper https:\/\/hal.archives-ouvertes.fr\/hal-00171411\n\nfloat t = iGlobalTime;\n#define Pi 3.1415927\n\nfloat hash( float n )\n{\n    return fract(sin(n)*43758.5453);\n}\n\nfloat hash2(vec2 uv)\n{\n#if 0\n\treturn hash(uv.x+1234.56*uv.y);\n#else\n\treturn texture2D(iChannel0,uv*iResolution.y\/iChannelResolution[0].xy).r;\n#endif\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy \/ iResolution.y;\n\tfloat v = hash2(uv);\n\n    vec2 p = uv-vec2(.8,.5);\n\t\n\tfloat d = sin(5.*(p.x-t+cos(1.1*t)+sin(t+3.*p.y)))*sin(5.*(p.y+sin(1.4*t)+cos(t+2.*p.x)));\n\n\tfloat k = (1.+.5*sin(.05*t*2.*Pi));\n\td += k*sin(4.*length(p)-8.*t);\n\n\t\/\/ moving sphere\n\tif (length(p-vec2(.6*cos(2.*t),.2*sin(2.*t)))<.15+.1*sin(2.*t)) d = -d;\n\n\t\/\/ moving bar\n\t\/\/ if (p.x > .8*sin(.2*t*2.*Pi)) d = -d;\n\n\n\t\/\/ grid of points\n\tif (length(sin(20.*p)) < sin(.1*t*2.*Pi)) d = -d;\n\t\n\tif  (d>0.) v = fract(v+10.*d);\n\n\tfragColor = vec4(v);\n}","name":"","description":"","type":"image"}]}}