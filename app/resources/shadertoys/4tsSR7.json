{"Shader":{"ver":"0.1","info":{"id":"4tsSR7","date":"1435349518","viewed":710,"name":"Rainbow #1","username":"WAHa_06x36","description":"Subtitle, \"Gay Aurora\".<br\/><br\/>In honour of the news of the day.","likes":6,"published":3,"flags":0,"tags":["rainbow","sines","gay"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"vec3 spectral_colour(float l) \/\/ RGB <0,1> <- lambda l <400,700> [nm]\n{\n\tfloat r=0.0,g=0.0,b=0.0;\n         if ((l>=400.0)&&(l<410.0)) { float t=(l-400.0)\/(410.0-400.0); r=    +(0.33*t)-(0.20*t*t); }\n    else if ((l>=410.0)&&(l<475.0)) { float t=(l-410.0)\/(475.0-410.0); r=0.14         -(0.13*t*t); }\n    else if ((l>=545.0)&&(l<595.0)) { float t=(l-545.0)\/(595.0-545.0); r=    +(1.98*t)-(     t*t); }\n    else if ((l>=595.0)&&(l<650.0)) { float t=(l-595.0)\/(650.0-595.0); r=0.98+(0.06*t)-(0.40*t*t); }\n    else if ((l>=650.0)&&(l<700.0)) { float t=(l-650.0)\/(700.0-650.0); r=0.65-(0.84*t)+(0.20*t*t); }\n         if ((l>=415.0)&&(l<475.0)) { float t=(l-415.0)\/(475.0-415.0); g=             +(0.80*t*t); }\n    else if ((l>=475.0)&&(l<590.0)) { float t=(l-475.0)\/(590.0-475.0); g=0.8 +(0.76*t)-(0.80*t*t); }\n    else if ((l>=585.0)&&(l<639.0)) { float t=(l-585.0)\/(639.0-585.0); g=0.82-(0.80*t)           ; }\n         if ((l>=400.0)&&(l<475.0)) { float t=(l-400.0)\/(475.0-400.0); b=    +(2.20*t)-(1.50*t*t); }\n    else if ((l>=475.0)&&(l<560.0)) { float t=(l-475.0)\/(560.0-475.0); b=0.7 -(     t)+(0.30*t*t); }\n\n\treturn vec3(r,g,b);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p=(2.0*fragCoord.xy-iResolution.xy)\/min(iResolution.x,iResolution.y);\n\n    p*=2.0;\n\n    for(int i=0;i<8;i++)\n    {\n        vec2 newp=vec2(\n            p.y+cos(p.x+iGlobalTime)-sin(p.y*cos(iGlobalTime*0.2)),\n            p.x-sin(p.y-iGlobalTime)-cos(p.x*sin(iGlobalTime*0.3))\n        );\n        p=newp;\n    }\n\n    fragColor=vec4(spectral_colour(p.y*50.0+500.0+sin(iGlobalTime*0.6)),1.0);\n}","name":"","description":"","type":"image"}]}}