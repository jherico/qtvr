{"Shader":{"ver":"0.1","info":{"id":"ltSSRt","date":"1445780799","viewed":409,"name":"B&W wacky worm","username":"CaptCM74","description":"My first shader.","likes":2,"published":3,"flags":0,"tags":["blackandwhite"],"hasliked":0},"renderpass":[{"inputs":[{"id":34,"src":"\/presets\/mzk05.mp3","ctype":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"#define M_PI 3.1415926535897932384626433832795\nfloat disk(vec2 r, vec2 center, float radius) {\n\tfloat distanceFromCenter = length(r-center);\n\tfloat outsideOfDisk = smoothstep( radius-0.005, radius+0.005, distanceFromCenter);\n\tfloat insideOfDisk = 1.0 - outsideOfDisk;\n\treturn insideOfDisk;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = vec2(fragCoord.xy \/ iResolution.xy);\n\tvec2 r =  2.0*vec2(fragCoord.xy - 0.5*iResolution.xy)\/iResolution.y;\n\tfloat xMax = iResolution.x\/iResolution.y;\t\n\t\n\tvec3 black = vec3(0.0);\n\tvec3 white = vec3(1.0);\n\tvec3 gray = vec3(0.3);\n\tvec3 col1 = vec3(0.216, 0.471, 0.698); \/\/ blue\n\tvec3 col2 = vec3(1.00, 0.329, 0.298); \/\/ red\n\tvec3 col3 = vec3(0.867, 0.910, 0.247); \/\/ yellow\n\t\n    \n\tvec3 ret;\n    \n    \n    \n\tfloat d;\n\n\t\t\/\/ opaque layers on top of each other\n\t\tret = gray;\n    \n   vec2 a = vec2( 0.0, 0.0 );\n    vec2 b = vec2( 1.0, 1.0 );\n    float angle = atan( b.x-a.x, b.y-a.y );\n        \n    float pr = ( (angle) \/ M_PI ) * 2.0;\n    float sx = ( 1.0 - pr ) * p.y;\n    float sy = pr * -iGlobalTime;\n    float s = sin( ( sx - sy ) * 40.0 );    \n    \n    vec3 c = vec3( 1.0, 1.0, 1.0 );\n    if( s < 0.3 ){\n        c = vec3( 0.0, 0.0, 0.0 );\n    }\n    ret = c.xyz;\n\t\n     \n\t\t\/\/ assign a gray value to the pixel first\n\t\td = disk(r, vec2(0.0+sin(iGlobalTime*5.0),0.3), 0.4);\n\t\tret = mix(ret, vec3(1. - floor(sin(iGlobalTime*5.0)*100.0)), d); \/\/ mix the previous color value with\n\t\t                         \/\/ the new color value according to\n\t\t                         \/\/ the shape area function.\n\t\t                         \/\/ at this line, previous color is gray.\n\t\td = disk(r, vec2(0.0+sin(iGlobalTime*4.99),0.0), 0.4);\n\t\tret = mix(ret, vec3(floor(sin(iGlobalTime*5.0)*100.0)), d);\n\t\td = disk(r, vec2(0.0+sin(iGlobalTime*4.98),-0.3), 0.4); \n\t\tret = mix(ret, vec3(1. - floor(sin(iGlobalTime*5.0)*100.0)), d); \/\/ here, previous color can be gray,\n\t\t                         \/\/ blue or pink.\n\n\t\n\t\n\tvec3 pixel = ret;\n\tfragColor = vec4(pixel, 1.0);\n}","name":"","description":"","type":"image"}]}}