{"Shader":{"ver":"0.1","info":{"id":"MlX3DS","date":"1424738657","viewed":972,"name":"Fractal Inmorality","username":"Kali","description":"Don't follow yaz idea, please. It's dangerous.","likes":1,"published":3,"flags":0,"tags":["mathporn"],"hasliked":0},"renderpass":[{"inputs":[{"id":36,"src":"\/presets\/vid03.webm","ctype":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\n\/\/#define VOYEUR_MODE\n\nfloat orgy(vec2 p) {\n\tfloat pl=0., expsmo=0.;\n\tfloat t=sin(iGlobalTime*10.);\n\tfloat a=-.35+t*.02;\n\tp*=mat2(cos(a),sin(a),-sin(a),cos(a));\n\tp=p*.07+vec2(.728,-.565)+t*.017+vec2(0.,t*.014);\n\tfor (int i=0; i<13; i++) {\n\t\tp.x=abs(p.x);\n\t\tp=p*2.+vec2(-2.,.85)-t*.04;\n\t\tp\/=min(dot(p,p),1.06);  \n\t\tfloat l=length(p*p);\n\t\texpsmo+=exp(-1.2\/abs(l-pl));\n\t\tpl=l;\n\t}\n\treturn expsmo;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy\/iResolution.xy-.5;\n\tvec3 vi=texture2D(iChannel0,uv+.5).xyz;\n    uv.x*=iResolution.x\/iResolution.y;\n    vec2 p=uv; p.x*=1.2;\n    float o=clamp(orgy(p)*.07,.3,1.); o=pow(o,1.8);\n\tvec3 col=vec3(o*.8,o*o*.87,o*o*o*.9);\n\tfloat hole=length(uv+vec2(.1,0.05))-.25;\n\t#ifdef VOYEUR_MODE \n\t\tcol*=pow(abs(1.-max(0.,hole)),80.);\n\t#endif\n    col=col*1.2+.15;\n\tcol=vi;\n    fragColor = vec4(col, 1.0 );\n}\n","name":"","description":"","type":"image"}]}}