{"Shader":{"ver":"0.1","info":{"id":"Ms33R4","date":"1448309762","viewed":303,"name":"glsl bug: clamp","username":"FabriceNeyret2","description":"the spec tells that clamp(v,a,b) = min(max(x, a), b), i.e. a lessthan b.<br\/>on windows  clamp(v,a,b) = clamp(v,b,a), while reversed bounds makes max(a,b) on linux. only Mac ok<br\/>-So windows see 4 gradient strips, linux will have 2 white strips at the middle.","likes":0,"published":3,"flags":0,"tags":["bug"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"#define B 1. \/\/ .25\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord \/ iResolution.xy;\n    float x=uv.x, y=uv.y,c;\n                                    \/\/ --- min(max(y, a), b) for y in [0,B]\n    c =   x<.25  ? clamp(y,.0,B)    \/\/  y\n        : x<.253 ? 0.\n        : x<.5   ? clamp(y,B,.0)    \/\/  0   linux: B   Windows: y\n        : x<.503 ? 0.\n        : x<.75  ? clamp(.0,B, y)   \/\/  y   linux: B\n        : x<.753 ? 0.\n        :          clamp(B,.0, y);  \/\/  y\n    \n\tfragColor = vec4(c);\n}","name":"","description":"","type":"image"}]}}