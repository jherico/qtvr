{"Shader":{"ver":"0.1","info":{"id":"4tX3W8","date":"1421255913","viewed":756,"name":"duckball reference","username":"bergi","description":"Reference shader for the 2D Kali set.","likes":1,"published":3,"flags":0,"tags":["fractal","noise","generative","kali","duckball"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"\/** @file reference shader for the 2D Kali set. \n    @author stefan berke\n    @version 2015\/01\/14\n\n    license: gpl3\n*\/\n\n\/*  Simplest form of the 'duckball' fractal which looks adequate. \n\n    Discovered by this guy ;)\n    http:\/\/www.fractalforums.com\/new-theories-and-research\/very-simple-formula-for-fractal-patterns\n\n    The fractal pops up at some places here on Shadertoy.\n    After a night of closely investigating the Kali world,\n    i fell in love, admittedly. \n\n    x = abs(x) \/ dot(x, x) - y\n\n    where x is the input position and y a fixed parameter, \n    both vectors of at least two dimensions. \n    The parameter values should be in the range 0 > 2.\n\n    The list of good things i have to say about this fractal:\n      - totally cheap equation\n      - extends to any number of dimensions easily\n        (just need to find n good parameters)\n      - very complex, almost random\/noisy at places while remaining 'arty'\n      - zooming in on interesting parts is like cosmic\n\n    Seemingly, the higher the dimension the more complex it gets.\n    \"I've seen things, you people wouldn't believe,\" \n    things like almost-read-to-play science fiction games \n    and depictions of the garden of shiva.\n\n    In the forum above, Kali credited his findings to \n    Samuel Monnier's Ducks and Tglad's ballfold. \n    Hence the name of the function below.\n\n    To keep it simple to read, the coloring is very basic\n    and values of x are simply accumulated over the iteration loop.\n\n    What else can be said for sure, play with it.\n*\/\n\n#define NUM_ITER 50\n\nvec2 duckball(in vec2 p, in vec2 param)\n{\n    \/\/ accumulator\n    vec2 ac = vec2(0.);\n    \n    for (int i=0; i<NUM_ITER; ++i)\n    {\n        p = abs(p) \/ dot(p, p);\n        ac += p;\n        p -= param;\n    }\n\n    return min(vec2(1.), .2 * ac \/ float(NUM_ITER));\n}\n\n\n\/\/ permute through 'all' parameters of the 2d set\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float ti = iGlobalTime;\n    \n    \/\/ ---- config ----\n    \n    \/\/ zoom\n    float scale = 1. + .99 * sin(ti \/ 17.);\n    \/\/ center of view\n    vec2 center = vec2(0.3*sin(ti \/ 7.), \n                       0.3 * sin(ti \/ 5.));\n    \/\/ fractal parameter [0,~2]\n    vec2 param = vec2(0.6 + 0.5 * sin(ti \/ 11.),\n                      0.6 + 0.5 * sin(ti \/ 13.));\n    \n    \n    \/\/ construct coordinate\n    vec2 uv = fragCoord.xy \/ iResolution.xy * 2. - 1.;\n    uv = uv * scale + center;\n    \n    \n    \/\/ ---- get color ----\n    \n    vec3 col = vec3(duckball(uv, param), 0.);\n    \n    fragColor = vec4(col, 1.0);\n}","name":"","description":"","type":"image"}]}}