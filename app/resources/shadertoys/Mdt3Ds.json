{"Shader":{"ver":"0.1","info":{"id":"Mdt3Ds","date":"1453014630","viewed":203,"name":"PhotoShop (cc0)","username":"834144373","description":"PhotoShop\uff1a<br\/>move your mouse,and move to it on the right  side,will opear a color aera,and you can draw on the left side with you select color,and you can change the brush size <img src=\"\/img\/emoticonHappy.png\"\/><br\/>","likes":4,"published":3,"flags":32,"tags":["texture","effect","image","photoshop","picture","tools"],"hasliked":0},"renderpass":[{"inputs":[{"id":257,"src":"\/presets\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":259,"src":"\/presets\/previz\/buffer02.png","ctype":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":260,"src":"\/presets\/previz\/buffer03.png","ctype":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"lowp vec2 uv;\nvec2 mouse;\nvec4 col,m_col;\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 \/ 3.0, 1.0 \/ 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nfloat udBox(vec2 p,vec2 s)\n{\n    return length(max(abs(p)-s,0.));\n}\nbool Is_Side(lowp vec2 A,lowp vec2 B,lowp vec2 C){\n    lowp vec3 AB;\n    lowp vec3 BC;\n    lowp vec3 AC;\n    return dot(cross(AB = vec3(B-A,0.),vec3(uv-A,0.)),cross(AB, AC = vec3(C-A,0.)))>0. \n        && dot(cross(BC = vec3(C-B,0.),vec3(uv-B,0.)),cross(BC,-AB))>0. \n        && dot(cross(-AC,vec3(uv-C,0.)),cross(-AC,-BC))>0.; \n}\nvoid mainImage( out lowp vec4 o, in vec2 u )\n{\n    uv = u\/iResolution.xy;\n    mouse = iMouse.xy\/iResolution.xy;\n\tvec3 c0 = texture2D(iChannel2,u\/iResolution.xy).rgb\/1.1;\n    \/\/vec3 c1 = texture2D(iChannel3,u\/iResolution.xy).rgb;\n    vec3 cc = texture2D(iChannel3,vec2(uv.x,uv.y)).rgb;\n    o.rgb = c0.rgb;\n    \n    if(Is_Side(vec2(0.6,0.),vec2(0.79,0.),vec2(0.79,0.073))){\n    \to.r = 1.;\n    }\n\t\tfloat m_slide = texture2D(iChannel0,vec2(1.)).r;\n    float d = udBox(uv-vec2(clamp(m_slide,0.6,0.777),0.),vec2(0.01,0.08));\n    if(d < 0.001){\n    \to.g = 1.;\n    }\n    \tvec2 m_sphere = texture2D(iChannel0,vec2(1.,0.)).rg;\n    if(uv.x > 0.8){\n        o.rgb = cc;\n        float d = length((uv- vec2(clamp(m_sphere.x,0.82,1.),m_sphere.y))*vec2(iResolution.x\/iResolution.y,1.));\n        if(d<0.01 && d>0.0045){\n            o.rgb = 1.-o.rgb;\n        }\n    }\n    \/\/else if(uv.x > 0.812){o.rgb = vec3(.1,sin(iGlobalTime),1.);}\n\t\/\/o.rgb = cc;\t\n\n}\n\n\n\n","name":"","description":"","type":"image"},{"inputs":[{"id":257,"src":"\/presets\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"lowp vec4 col;\nmediump vec2 Size = vec2(157,160);\nlowp vec2 uv;\nbool Is_Side(lowp vec2 A,lowp vec2 B,lowp vec2 C){\n    lowp vec3 AB;\n    lowp vec3 BC;\n    lowp vec3 AC;\n    return dot(cross(AB = vec3(B-A,0.),vec3(uv-A,0.)),cross(AB, AC = vec3(C-A,0.)))>0. \n        && dot(cross(BC = vec3(C-B,0.),vec3(uv-B,0.)),cross(BC,-AB))>0. \n        && dot(cross(-AC,vec3(uv-C,0.)),cross(-AC,-BC))>0.; \n}\nlowp vec4 Unpack_RAR(ivec2 Date){\n    return vec4(Date\/256,mod(vec2(Date),256.))\/Size.xyxy;\n}\nlowp vec4 Unpack_RAR_Color(ivec2 Date){\n    return vec4(Date\/256,mod(vec2(Date),256.))\/256.;\n}\nvoid RAR(ivec2 A,ivec2 B,ivec2 C,ivec4 RGBA){\n     lowp vec4 a = Unpack_RAR(A);\n     lowp vec4 b = Unpack_RAR(B);\n     lowp vec4 c = Unpack_RAR(C); \n     lowp vec4 rgba0 = Unpack_RAR_Color(RGBA.rg);\n     lowp vec4 rgba1 = Unpack_RAR_Color(RGBA.ba);\n    if(Is_Side(a.xy,b.xy,c.xy)){\n        col = mix(col,vec4(rgba0.xy,rgba1.x,rgba1.y),rgba1.y);\n    }\n    if(Is_Side(a.zw,b.zw,c.zw)){\n        col = mix(col,vec4(rgba0.zw,rgba1.z,rgba1.w),rgba1.w);\n    }\n}\n\nvec2 store1 = vec2(iResolution.x,0.);\nvec2 store2 = iResolution.xy - 1.;\n\nvoid mainImage( out lowp vec4 o, in mediump vec2 u ){\n    uv = u.xy \/ iResolution.y;  \n    uv.y = 1.- uv.y;\n   if(u.x\/iResolution.x<0.6){\n    RAR( ivec2(40277,15248), ivec2(40312,2640), ivec2(30524,414), ivec4(64156,62941,64975,15161));\n    RAR( ivec2(32318,29983), ivec2(35741,10276), ivec2(36509,26702), ivec4(54724,41848,26977,13103));\n    RAR( ivec2(4120,35409), ivec2(115,37719), ivec2(109,34941), ivec4(47614,28126,28093,12603));\n    RAR( ivec2(28238,20812), ivec2(22366,7780), ivec2(29497,12129), ivec4(61938,51190,51185,15163));\n    RAR( ivec2(33692,32009), ivec2(32899,32044), ivec2(32669,35666), ivec4(60926,56574,60925,15163));\n    RAR( ivec2(9629,28682), ivec2(1678,95), ivec2(7823,32003), ivec4(64254,28409,8699,10811));\n    RAR( ivec2(19072,20565), ivec2(19745,12376), ivec2(15690,15008), ivec4(50430,64648,61818,14906));\n    RAR( ivec2(29309,13573), ivec2(12436,16776), ivec2(25973,7519), ivec4(59786,58223,56413,12089));\n    RAR( ivec2(14871,29527), ivec2(19220,32299), ivec2(30215,28787), ivec4(63665,62811,64868,13860));\n    RAR( ivec2(40335,8801), ivec2(29328,327), ivec2(36245,871), ivec4(64821,63983,65001,15147));\n    RAR( ivec2(9472,39227), ivec2(2591,35389), ivec2(8734,30546), ivec4(63387,34499,16781,10296));\n    RAR( ivec2(28723,22627), ivec2(26371,20566), ivec2(27963,30805), ivec4(59388,50928,41724,13880));\n    RAR( ivec2(40273,22567), ivec2(32598,353), ivec2(39992,2439), ivec4(65242,65021,64978,15159));\n    RAR( ivec2(30334,36689), ivec2(35455,29794), ivec2(31835,24178), ivec4(57313,23019,29065,13877));\n    RAR( ivec2(40003,2677), ivec2(40227,19546), ivec2(34396,13661), ivec4(64245,65019,64983,15162));\n    RAR( ivec2(2893,34463), ivec2(18215,10603), ivec2(15483,10912), ivec4(36350,34922,19012,15162));\n    RAR( ivec2(120,27694), ivec2(125,84), ivec2(896,2872), ivec4(65011,40170,61638,12855));\n    RAR( ivec2(885,41056), ivec2(10628,31779), ivec2(7030,1345), ivec4(63438,16775,5945,8501));\n    RAR( ivec2(14414,15770), ivec2(27433,21289), ivec2(12827,15117), ivec4(63832,64856,62053,15158));\n    RAR( ivec2(15379,40777), ivec2(24379,41044), ivec2(19221,36681), ivec4(65022,64504,46797,15163));\n    RAR( ivec2(0,12642), ivec2(12288,15520), ivec2(10397,928), ivec4(63986,63115,60814,12338));\n    RAR( ivec2(8545,19525), ivec2(2869,15662), ivec2(630,16182), ivec4(64964,64861,64324,15147));\n    RAR( ivec2(7253,27702), ivec2(7755,69), ivec2(37,8509), ivec4(64479,49618,62955,13621));\n    RAR( ivec2(11578,21249), ivec2(11520,28243), ivec2(12032,30210), ivec4(65278,49307,46547,15162));\n    RAR( ivec2(21789,32595), ivec2(14080,33380), ivec2(24064,33655), ivec4(65111,52641,62970,14895));\n    RAR( ivec2(7483,26200), ivec2(1,25364), ivec2(74,28522), ivec4(53501,59125,63742,14651));\n    RAR( ivec2(82,28013), ivec2(4723,27735), ivec2(86,25229), ivec4(65242,65000,65224,15151));\n    RAR( ivec2(23950,19456), ivec2(13212,32831), ivec2(13689,27650), ivec4(21740,53245,37885,14395));\n    RAR( ivec2(6912,31232), ivec2(10306,512), ivec2(9785,26652), ivec4(48586,31182,33486,10251));\n    RAR( ivec2(5494,21828), ivec2(11059,310), ivec2(70,553), ivec4(61854,63455,65227,15163));\n    RAR( ivec2(29035,18279), ivec2(31334,20045), ivec2(359,17277), ivec4(47833,39344,29860,14895));\n    RAR( ivec2(5123,21387), ivec2(9748,2612), ivec2(10268,5247), ivec4(64772,65029,65030,15163));\n    RAR( ivec2(34955,16670), ivec2(15662,38935), ivec2(35729,21311), ivec4(47901,47873,39424,12602));\n    RAR( ivec2(3334,33115), ivec2(1309,32839), ivec2(320,34374), ivec4(51186,41887,41875,11065));\n    RAR( ivec2(19260,40962), ivec2(32000,26370), ivec2(35844,22073), ivec4(51705,23542,51966,13371));\n    RAR( ivec2(24942,35412), ivec2(14677,34153), ivec2(19062,38516), ivec4(41469,62427,61411,12589));\n    RAR( ivec2(30830,41087), ivec2(14730,41029), ivec2(17492,34451), ivec4(65004,52574,41866,15154));\n    RAR( ivec2(9352,25440), ivec2(12803,17236), ivec2(4637,30064), ivec4(51173,48304,22931,13874));\n    RAR( ivec2(12161,14594), ivec2(22684,28672), ivec2(19613,7260), ivec4(48632,45820,31997,11835));\n    RAR( ivec2(33561,34112), ivec2(29715,22594), ivec2(31259,10835), ivec4(63741,48638,36862,10043));\n    RAR( ivec2(14431,341), ivec2(6749,12625), ivec2(323,613), ivec4(63408,65255,65249,15163));\n    RAR( ivec2(12624,18965), ivec2(3189,23596), ivec2(19,22608), ivec4(48798,56668,64550,15148));\n   }\n    else if(u.x\/iResolution.x>0.8)\n    {\n        col = texture2D(iChannel0,u\/iResolution.xy);\n        vec2 mouse = iMouse.xy\/iResolution.xy;\n        \t\/\/store1 \/= iResolution.xy;\n        \n        \/\/col.xy = vec2(1.);\n        if(u.y < iResolution.y\/2.){\n            if(mouse.x>0.82)\n        \t col.xy = mouse.xy;    \n        }\n        else if(u.y > iResolution.y\/2.){\n        \tif(mouse.x > 0.6 && mouse.x< 0.78 && mouse.y < 0.12)\n             col.x = clamp(mouse.x,0.01,1.);\n        }\n    }\n   o = col;\n}","name":"","description":"","type":"buffer"},{"inputs":[{"id":258,"src":"\/presets\/previz\/buffer01.png","ctype":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"lowp vec4 col;\nmediump vec2 Size = vec2(157,160);\nlowp vec2 uv;\nbool Is_Side(lowp vec2 A,lowp vec2 B,lowp vec2 C){\n    lowp vec3 AB;\n    lowp vec3 BC;\n    lowp vec3 AC;\n    return dot(cross(AB = vec3(B-A,0.),vec3(uv-A,0.)),cross(AB, AC = vec3(C-A,0.)))>0. \n        && dot(cross(BC = vec3(C-B,0.),vec3(uv-B,0.)),cross(BC,-AB))>0. \n        && dot(cross(-AC,vec3(uv-C,0.)),cross(-AC,-BC))>0.; \n}\nlowp vec4 Unpack_RAR(ivec2 Date){\n    return vec4(Date\/256,mod(vec2(Date),256.))\/Size.xyxy;\n}\nlowp vec4 Unpack_RAR_Color(ivec2 Date){\n    return vec4(Date\/256,mod(vec2(Date),256.))\/256.;\n}\nvoid RAR(ivec2 A,ivec2 B,ivec2 C,ivec4 RGBA){\n     lowp vec4 a = Unpack_RAR(A);\n     lowp vec4 b = Unpack_RAR(B);\n     lowp vec4 c = Unpack_RAR(C); \n     lowp vec4 rgba0 = Unpack_RAR_Color(RGBA.rg);\n     lowp vec4 rgba1 = Unpack_RAR_Color(RGBA.ba);\n    if(Is_Side(a.xy,b.xy,c.xy)){\n        col = mix(col,vec4(rgba0.xy,rgba1.x,rgba1.y),rgba1.y);\n    }\n    if(Is_Side(a.zw,b.zw,c.zw)){\n        col = mix(col,vec4(rgba0.zw,rgba1.z,rgba1.w),rgba1.w);\n    }\n}\n\nvoid mainImage( out lowp vec4 o, in mediump vec2 u ){\n    uv = u.xy \/ iResolution.y;  \n    uv.y = 1.- uv.y;\n   if(u.x\/iResolution.x < 0.8){\n    RAR( ivec2(31132,27196), ivec2(120,257), ivec2(1437,30218), ivec4(64724,36862,55549,7739));\n    RAR( ivec2(8073,40811), ivec2(12340,41087), ivec2(10014,35915), ivec4(60405,49070,38808,13357));\n    RAR( ivec2(24221,6303), ivec2(23576,17568), ivec2(11084,11677), ivec4(49146,21185,3505,8251));\n    RAR( ivec2(15470,28230), ivec2(29275,26183), ivec2(18476,20580), ivec4(41960,63388,56190,15158));\n    RAR( ivec2(39976,2383), ivec2(40267,21375), ivec2(32003,28), ivec4(65263,65274,63820,15157));\n    RAR( ivec2(4952,23446), ivec2(99,672), ivec2(12034,671), ivec4(63997,61129,64663,15152));\n    RAR( ivec2(29488,11852), ivec2(29996,16435), ivec2(24617,6981), ivec4(61693,52211,48122,13368));\n    RAR( ivec2(32575,18573), ivec2(17989,20309), ivec2(10779,18261), ivec4(60670,37092,33177,13371));\n    RAR( ivec2(30720,379), ivec2(32027,2410), ivec2(30760,13158), ivec4(29422,31154,29363,8243));\n    RAR( ivec2(29485,139), ivec2(37380,1070), ivec2(40239,10912), ivec4(64394,64595,65093,15154));\n    RAR( ivec2(412,521), ivec2(40349,84), ivec2(122,0), ivec4(20988,20733,20990,13883));\n    RAR( ivec2(96,669), ivec2(14441,356), ivec2(5427,14384), ivec4(64226,64373,64848,15136));\n    RAR( ivec2(21057,8836), ivec2(12872,14933), ivec2(18743,18259), ivec4(63084,63500,51506,14902));\n    RAR( ivec2(16252,381), ivec2(142,19595), ivec2(142,654), ivec4(64997,65198,65017,12844));\n    RAR( ivec2(25447,29471), ivec2(21614,37412), ivec2(26430,34188), ivec4(64212,64912,53354,15137));\n    RAR( ivec2(6813,31745), ivec2(4468,34207), ivec2(6301,33440), ivec4(65022,55031,47611,15163));\n    RAR( ivec2(1914,31830), ivec2(7047,31043), ivec2(14466,19239), ivec4(58366,35282,28333,14138));\n    RAR( ivec2(24989,22609), ivec2(30030,30089), ivec2(27021,21041), ivec4(65111,50952,44546,15162));\n    RAR( ivec2(8079,10028), ivec2(4742,28949), ivec2(14480,13652), ivec4(17222,10240,7426,14394));\n    RAR( ivec2(17309,37019), ivec2(12354,41012), ivec2(8759,27040), ivec4(10232,5503,2650,15136));\n    RAR( ivec2(33052,34404), ivec2(22558,40522), ivec2(34324,41061), ivec4(26617,7117,675,15160));\n    RAR( ivec2(10284,33648), ivec2(10039,32643), ivec2(10585,40503), ivec4(58087,47554,48032,10299));\n    RAR( ivec2(29696,22893), ivec2(18484,30721), ivec2(26624,34050), ivec4(63486,63226,61180,15144));\n    RAR( ivec2(25662,32514), ivec2(17152,25088), ivec2(512,7474), ivec4(59133,54270,46077,8251));\n    RAR( ivec2(372,20993), ivec2(2717,22061), ivec2(9623,17414), ivec4(510,253,505,14907));\n    RAR( ivec2(925,37976), ivec2(384,34048), ivec2(6813,40201), ivec4(61950,34558,25342,10043));\n    RAR( ivec2(19317,32876), ivec2(13123,29807), ivec2(14164,31560), ivec4(6344,1528,1789,14603));\n    RAR( ivec2(16954,27906), ivec2(20239,20047), ivec2(22053,28561), ivec4(57156,56076,64513,15163));\n    RAR( ivec2(37376,22579), ivec2(12606,15873), ivec2(13568,12290), ivec4(59644,31734,17661,9019));\n    RAR( ivec2(513,591), ivec2(6700,14646), ivec2(13356,321), ivec4(64139,64880,65138,15140));\n    RAR( ivec2(6752,18982), ivec2(29319,18797), ivec2(5195,18213), ivec4(59356,60309,48251,4639));\n    RAR( ivec2(30088,12918), ivec2(14706,13404), ivec2(21126,7782), ivec4(55292,46066,43420,10554));\n    RAR( ivec2(9017,23094), ivec2(9822,18989), ivec2(8293,18723), ivec4(65267,63461,47010,14892));\n    RAR( ivec2(17479,29723), ivec2(15139,31561), ivec2(20063,31004), ivec4(64250,62909,53736,14607));\n    RAR( ivec2(17294,13663), ivec2(21127,38731), ivec2(29321,31066), ivec4(61178,54775,53694,12347));\n    RAR( ivec2(33827,15508), ivec2(40252,36000), ivec2(34656,36496), ivec4(62066,63288,32535,3386));\n    RAR( ivec2(31829,34693), ivec2(35903,39046), ivec2(34635,41079), ivec4(65278,65051,64890,15163));\n    RAR( ivec2(5492,27205), ivec2(3183,23590), ivec2(2358,26680), ivec4(45293,29369,11174,14906));\n    RAR( ivec2(33437,21659), ivec2(38557,21331), ivec2(38758,24405), ivec4(36504,46868,50176,12600));\n    RAR( ivec2(5788,18822), ivec2(11933,918), ivec2(142,5244), ivec4(60135,62890,65196,15154));\n    RAR( ivec2(28044,32670), ivec2(33151,23079), ivec2(18046,40305), ivec4(58420,44827,33035,15146));\n    RAR( ivec2(4096,30976), ivec2(25600,25145), ivec2(2366,32513), ivec4(46587,28926,29437,10043));\n   }\n   else{\n       col.r = texture2D(iChannel1,u\/iResolution.xy).r;\n       vec2 mouse = iMouse.xy\/iResolution.xy;\n       if(u.y > iResolution.y\/2.){\n       \t\tif(mouse.x > 0.78 && mouse.x < 0.82){\n        \t\tcol.r = mouse.y;\n       \t\t}\n       }\n       \n   }\n\to = col;\n\n}","name":"","description":"","type":"buffer"},{"inputs":[{"id":257,"src":"\/presets\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":258,"src":"\/presets\/previz\/buffer01.png","ctype":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":259,"src":"\/presets\/previz\/buffer02.png","ctype":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":260,"src":"\/presets\/previz\/buffer03.png","ctype":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"lowp vec4 col;\nfloat alpha = 0.;\nmediump vec2 Size = vec2(157,160);\nlowp vec2 uv;\nbool Is_Side(lowp vec2 A,lowp vec2 B,lowp vec2 C){\n    lowp vec3 AB;\n    lowp vec3 BC;\n    lowp vec3 AC;\n    return dot(cross(AB = vec3(B-A,0.),vec3(uv-A,0.)),cross(AB, AC = vec3(C-A,0.)))>0. \n        && dot(cross(BC = vec3(C-B,0.),vec3(uv-B,0.)),cross(BC,-AB))>0. \n        && dot(cross(-AC,vec3(uv-C,0.)),cross(-AC,-BC))>0.; \n}\nlowp vec4 Unpack_RAR(ivec2 Date){\n    return vec4(Date\/256,mod(vec2(Date),256.))\/Size.xyxy;\n}\nlowp vec4 Unpack_RAR_Color(ivec2 Date){\n    return vec4(Date\/256,mod(vec2(Date),256.))\/256.;\n}\nvoid RAR(ivec2 A,ivec2 B,ivec2 C,ivec4 RGBA){\n     lowp vec4 a = Unpack_RAR(A);\n     lowp vec4 b = Unpack_RAR(B);\n     lowp vec4 c = Unpack_RAR(C); \n     lowp vec4 rgba0 = Unpack_RAR_Color(RGBA.rg);\n     lowp vec4 rgba1 = Unpack_RAR_Color(RGBA.ba);\n    if(Is_Side(a.xy,b.xy,c.xy)){\n        col = mix(col,vec4(rgba0.xy,rgba1.x,rgba1.y),rgba1.y);\n    }\n\n    if(Is_Side(a.zw,b.zw,c.zw)){\n        col = mix(col,vec4(rgba0.zw,rgba1.z,rgba1.w),rgba1.w);\n    }\n}\nvoid Picture(in vec2 u){\n\tuv = u\/iResolution.xy;\n    lowp vec4 c0 = texture2D(iChannel0,uv);\n    lowp vec4 c1 = texture2D(iChannel1,uv);\n    \/\/lowp vec4 c2 = texture2D(iChannel2,uv);\n    \/\/vec4 col;\n    col.a += c0.a+c1.a;\n\tcol.rgb += c0.rgb+c1.rgb;\/\/+c2.rgb;\n    col.rgb = col.rgb*(1.- col.a)\/1.05;\n}\nfloat udBox(vec2 p,vec2 s,float ur)\n{\n    return length(max(abs(p)-s,0.)) - ur;\n}\nfloat dfLine(vec2 start, vec2 end, vec2 p){\n\t\/\/start *= 1.5 \/ 1000.0;\n\t\/\/end *= 1.5 \/ 1000.0;\n\tvec2 line = end - start;\n\tfloat frac = dot(p.xy - start,line) \/ dot(line,line);\n\t\n\tfloat d = distance(start + line * clamp(frac, 0.0, 1.0), p.xy);\n\treturn d;\n}\nvoid mainImage( out lowp vec4 o, in mediump vec2 u ){\n    uv = u.xy \/ iResolution.y;  \n    uv.y = 1.- uv.y;\n    vec4 d_buffer = texture2D(iChannel3,u\/iResolution.xy);\n\n   if(u.x\/iResolution.x<0.8){\n    RAR( ivec2(24576,6986), ivec2(30268,16896), ivec2(12032,16386), ivec4(65277,62717,60925,15163));\n    RAR( ivec2(4237,24083), ivec2(12087,635), ivec2(0,579), ivec4(65016,64524,64768,10000));\n    RAR( ivec2(12829,9104), ivec2(25369,12616), ivec2(22808,22909), ivec4(31138,346,829,8243));\n    RAR( ivec2(32157,41120), ivec2(29955,34976), ivec2(39050,40733), ivec4(63979,61213,64776,12321));\n    RAR( ivec2(30272,33660), ivec2(30809,36986), ivec2(31031,31340), ivec4(64504,52170,48554,14395));\n    RAR( ivec2(40241,38725), ivec2(31529,36682), ivec2(28750,27980), ivec4(7421,713,159,14650));\n    RAR( ivec2(8982,26971), ivec2(18972,39227), ivec2(11536,32604), ivec4(248,460,183,14899));\n    RAR( ivec2(57,33915), ivec2(95,41086), ivec2(12621,41088), ivec4(59394,38144,27650,12347));\n    RAR( ivec2(14592,34436), ivec2(7946,19328), ivec2(15877,23943), ivec4(62715,43885,28254,11568));\n    RAR( ivec2(28829,160), ivec2(35997,8856), ivec2(38525,23190), ivec4(6397,2301,5629,15163));\n    RAR( ivec2(39996,11604), ivec2(38164,1427), ivec2(29191,93), ivec4(64995,64878,65095,15151));\n    RAR( ivec2(30740,27040), ivec2(30512,26783), ivec2(6704,1947), ivec4(64249,64249,64252,14906));\n    RAR( ivec2(30345,17292), ivec2(26778,32149), ivec2(32138,26009), ivec4(33024,8963,3584,13115));\n    RAR( ivec2(8769,27435), ivec2(1865,29599), ivec2(3445,32629), ivec4(64251,38826,25764,14894));\n    RAR( ivec2(13171,16950), ivec2(11885,4419), ivec2(4434,29484), ivec4(25060,16073,5585,14138));\n    RAR( ivec2(5723,19311), ivec2(2663,15659), ivec2(5964,21362), ivec4(65028,52737,48132,13323));\n    RAR( ivec2(27280,21328), ivec2(30073,26228), ivec2(28055,31576), ivec4(46031,29120,28562,14884));\n    RAR( ivec2(4182,38165), ivec2(9003,30272), ivec2(3189,35395), ivec4(52221,25791,16789,12584));\n    RAR( ivec2(15956,8991), ivec2(11612,16924), ivec2(29548,16427), ivec4(64660,54119,49496,10809));\n    RAR( ivec2(10653,29697), ivec2(26253,31747), ivec2(26744,29952), ivec4(55812,44033,39185,14907));\n    RAR( ivec2(17039,38541), ivec2(3962,15218), ivec2(12942,32898), ivec4(8654,377,631,8233));\n    RAR( ivec2(18076,23377), ivec2(17011,19240), ivec2(14984,35879), ivec4(49539,39482,29228,12603));\n    RAR( ivec2(32141,1837), ivec2(35442,17292), ivec2(35711,10656), ivec4(48814,41318,42564,13104));\n    RAR( ivec2(7936,5184), ivec2(3368,4683), ivec2(9472,5256), ivec4(6926,25346,29704,15151));\n    RAR( ivec2(23963,23885), ivec2(25346,20481), ivec2(23365,24989), ivec4(55280,28095,4015,11038));\n    RAR( ivec2(7571,12956), ivec2(11900,40083), ivec2(12445,3225), ivec4(15869,252,766,13883));\n    RAR( ivec2(18792,31392), ivec2(10303,31648), ivec2(35136,34941), ivec4(25083,160,356,10299));\n    RAR( ivec2(0,13643), ivec2(112,3350), ivec2(16396,144), ivec4(65092,65027,64770,15148));\n    RAR( ivec2(256,14149), ivec2(6972,16897), ivec2(3584,17922), ivec4(62974,63485,64254,14651));\n    RAR( ivec2(34164,8061), ivec2(16502,10912), ivec2(16014,7558), ivec4(52575,17420,14081,2869));\n    RAR( ivec2(14932,24340), ivec2(17716,30254), ivec2(19544,15964), ivec4(47045,29573,17476,15119));\n    RAR( ivec2(36929,13186), ivec2(30522,11376), ivec2(31131,35991), ivec4(48638,29188,20282,13323));\n    RAR( ivec2(36866,20300), ivec2(36352,22849), ivec2(38410,22601), ivec4(65278,65231,64946,15163));\n    RAR( ivec2(36398,22359), ivec2(37422,18278), ivec2(33640,5491), ivec4(41449,27040,21143,15158));\n    RAR( ivec2(33319,3716), ivec2(28979,38170), ivec2(38440,17970), ivec4(20829,9770,6944,15163));\n    RAR( ivec2(2615,19530), ivec2(4927,10317), ivec2(2857,13649), ivec4(50689,46084,51714,14907));\n    RAR( ivec2(307,523), ivec2(39705,316), ivec2(40254,34836), ivec4(55393,44349,59717,7733));\n    RAR( ivec2(32,381), ivec2(7,13195), ivec2(7949,12688), ivec4(64467,63628,65146,15162));\n    RAR( ivec2(13858,32037), ivec2(29237,23297), ivec2(11264,22530), ivec4(61690,50941,47614,11835));\n    RAR( ivec2(26177,15247), ivec2(21810,8826), ivec2(18004,19084), ivec4(53974,37340,32969,15155));\n    RAR( ivec2(157,26170), ivec2(3994,32263), ivec2(2679,25600), ivec4(58110,57085,65022,11067));\n    RAR( ivec2(6921,18733), ivec2(5933,1296), ivec2(5891,21516), ivec4(62586,60829,65272,11274));\n    RAR( ivec2(18791,39968), ivec2(21807,7219), ivec2(12095,30235), ivec4(60408,41785,36614,9226));\n    Picture(u);\n    o = col;\n    float rrr = texture2D(iChannel2,vec2(1.,0.)).r;\n       \tvec2 p = u\/iResolution.y;\n    \tfloat g = udBox(p-vec2(0.5,0.52),vec2(0.33,0.07), 0.04);\n       if(rrr < 0.5){\n       \t\td_buffer = (1.- step(0.,g))*vec4(0.4,0.6,0.7,1.);\n       }\n    o *= d_buffer;\n       \n   }\n   else{\n       o.r = texture2D(iChannel2,uv).r;\n       if(o.r < 0.5 && iMouse.z > 0.){\n       \t\to.r = 1.;\n       }\n       \/\/else{o.r = 1.;}\n   }\n    \n}","name":"","description":"","type":"buffer"},{"inputs":[{"id":257,"src":"\/presets\/previz\/buffer00.png","ctype":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":258,"src":"\/presets\/previz\/buffer01.png","ctype":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":259,"src":"\/presets\/previz\/buffer02.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":260,"src":"\/presets\/previz\/buffer03.png","ctype":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/UI And effects\nlowp vec2 uv;\nlowp vec2 uv2;\nvec2 mouse;\nvec4 m_col;\n\n\/\/swap color \nvoid swap_color(float size,inout vec4 col,vec4 where){\n    if(iMouse.z>0.){\n        float d = length((uv2-mouse)*vec2(iResolution.x\/iResolution.y,1.));\n        if(d < size){\n            \/\/m_col = where;\/\/texture2D(iChannel3,where);\n            col = where;\n        }\n    }\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 \/ 3.0, 1.0 \/ 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid mainImage( out vec4 o, in vec2 u )\n{\n    \/\/SetValue();\n    uv = u\/iResolution.xy;\n    vec2 uv_UI_stats = uv;\n    \/\/for mouse blend color\n    uv2 = uv;\n    mouse = iMouse.xy\/iResolution.xy;\n    \/\/float sound = texture2D(iChannel0,u\/iResolution.xy).r;\n    \n    vec4 c = texture2D(iChannel1,uv);\n    \/*\n    if(uv.y < 0.05 && uv.x > 0.6){\n        \tc.rgb = vec3(1.);\n    }else if(uv.x > 0.6){c.rgb = vec3(0.);}\n    *\/\n    vec2 where = texture2D(iChannel3,vec2(1.,0.)).rg;\n        \twhere.x = clamp(where.x,0.825,1.);\n        vec4 where_col = texture2D(iChannel1,where);\n    if(uv.x < 0.8){\n        \n        float size = texture2D(iChannel3,vec2(1.)).r;\n    \t\tswap_color((clamp(size,0.6,0.8)-0.58),c,where_col);\n        \/\/}\n    }\n    else if(uv.x < 0.812){\n        float rrr = texture2D(iChannel0,vec2(1.,0.)).r;\n            if(rrr < 0.5){\n            \t \/\/c.rgb = vec3(sin(iGlobalTime));\n                c.rgb = vec3(0.,0.6,0.)*uv.y*(1.-uv.y);\n                 c.rgb = mix(c.rgb,vec3(0.,1.,1.8),mix(1.,0.,abs(uv.y-0.5+sin(iGlobalTime\/2.)\/2.8)*18.)) ;\n                \/\/c.rgb = clamp(c.rgb,0.,1.);\n            }\n       \n        if(mouse.x > 0.76 && mouse.x < 0.82){\n       \t\t\/\/c.rgb = vec3(.1,uv.y,1.)*mouse.y;\n            \/\/c.rgb = hsv2rgb(vec3(uv.y,));\n            c.rgb = vec3(0.6,uv.y,0.6)*(mouse.y);\n            if(uv.y < mouse.y+0.05 && uv.y> mouse.y-0.05){\n                c.rgb = mix(c.rgb,vec3(0.,1.,1.8),mix(1.,0.,abs(uv.y-mouse.y)*18.)) \t;\n            }\n        }\n    }\n    else{\n        float s = texture2D(iChannel2,vec2(1.)).r*2.;\n        \t\n\t\t\/\/c.rgb = hsv2rgb(vec3(uv.y,1.- clamp(s,0.,1.),clamp(s,1.,2.)));\n        if(s < 1.){\n        \tc.rgb = hsv2rgb(vec3(uv.y,1.- s,1.));\n        }\n        else{\n        \tc.rgb = hsv2rgb(vec3(uv.y,s-1.,2.-s));\n        }\n        \/\/c.rgb *= 1. - texture2D(iChannel2,vec2(1.)).r;\n        \n    }\n    o = c;\n}\n\n","name":"","description":"","type":"buffer"}]}}