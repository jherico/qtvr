{"Shader":{"ver":"0.1","info":{"id":"Mll3z8","date":"1418751894","viewed":710,"name":"Meta Experiment 6","username":"aiekick","description":"Meta Experiment 6","likes":2,"published":3,"flags":0,"tags":["experiment","meta","metacurve"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"\/\/ Created by Stephane Cuillerdier - Aiekick\/2014\n\/\/ License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\nvec2 uv;\nvec2 mo;\nfloat ratio;\n\nfloat metaline(vec2 p, vec2 o, float thick, vec2 l)\n{\n    vec2 po = 2.*p+o;\n    return thick \/ dot(po,vec2(l.x,l.y));\n}\n\nfloat metaball(vec2 p, vec2 o, float thick)\n{\n    vec2 po = p-o;\n    return thick \/ dot(po,po);\n}\n\nfloat metacurve(vec2 p, vec2 o, float i, float thick, vec2 l)\n{\n   \tfloat mu = metaline(p,vec2(o.x,o.y-i), thick, l);\n    float md = metaline(p,vec2(o.x,o.y+i), thick, vec2(l.x,l.y*-1.));\n    return mu+md;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    ratio=iResolution.x\/iResolution.y;\n    uv=(fragCoord.xy\/iResolution.xy*2.-1.)*vec2(ratio,1.);\n    \/\/mo=(iMouse.xy\/iResolution.xy*2.-1.)*vec2(ratio,1.);\n    \n    float t = iGlobalTime*5.;\n    float t2 = sin(t*0.1);\n    float t3 = 0.5*t2+0.5;\n    \n    float ampl=0.2;\n    float phase=4.;\n    vec2 uvSin=vec2(uv.x,uv.y+sin(uv.x*phase-t)*ampl);\n   \n    float inv=t2;\n\tfloat bottom = metaline(uv,vec2(0.,2.), 0.1, vec2(0.0,1.*inv));\n\tfloat top = metaline(uv,vec2(0.,-2.), 0.1, vec2(0.0,-1.*inv));\n\tfloat left = metaline(uv,vec2(2.*ratio,0.), 0.1, vec2(1.*inv,0.0));\n\tfloat right = metaline(uv,vec2(-2.*ratio,0.), 0.1, vec2(-1.*inv,0.0));\n\t\n    float coef=50.;\n    float mcs=0.;\n    float st=0.4;\n    for (int i=0;i<6;i++)\n    {\n        mcs+= metacurve(uvSin, vec2(0.,st*float(i)), 0.00001, coef, vec2(0.,1.*inv));\n        mcs+= metacurve(uvSin, vec2(0.,-st*float(i)), 0.00001, coef, vec2(0.,1.*inv));\n    }\n             \n\tfloat rad=0.8;\n    float refa = 1.570796+t*0.2;\n    float oa = 6.2831853\/3.;\n    float rm0 = metaball(uv, vec2(cos(refa),sin(refa))*rad, 0.05);\n\tfloat rm1 = metaball(uv, vec2(cos(refa+oa),sin(refa+oa))*rad, 0.05);\n\tfloat rm2 = metaball(uv, vec2(cos(refa+oa*2.),sin(refa+oa*2.))*rad, 0.05);\n\t\n    float rect = bottom+top+left+right;\n    float rms = rm0+rm1+rm2;\n    float os = rect+rms+mcs;\n    \n    float r = mix(1.\/os, os, 1.);\n    float g = mix(1.\/os, os, 3.);\n    float b = mix(1.\/os, os, 5.);\n    vec3 c = vec3(r,g,b);\n\tfragColor.rgb = c;\n}","name":"","description":"","type":"image"}]}}