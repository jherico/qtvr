{"Shader":{"ver":"0.1","info":{"id":"XtjXWy","date":"1446201715","viewed":399,"name":"gdp_ghost","username":"plancien","description":"Ghosts and unfinished pumpkin for Halloween. Made while teaching maths (sine, consine, vectors) to students.","likes":0,"published":3,"flags":0,"tags":["gdp"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"\nbool ghost (vec2 pos, vec2 ghostPos) {\n    ghostPos.x += 3.0 * cos(iGlobalTime + ghostPos.x);\n    float etirement = 0.6;\n    vec2 posEtire = vec2(pos.x, pos.y * etirement);\n\n    \n    if (length(posEtire - ghostPos) > 1.0) {\n        return false;\n    }\n    \n    vec2 ghostLeftEye  = ghostPos + vec2(-0.35, 0.5);\n    vec2 ghostRightEye = ghostPos + vec2(0.35, 0.5);\n    \n    if (length(posEtire - ghostLeftEye) < 0.15) {\n        return false;\n    }\n    \n    if (length(posEtire - ghostRightEye) < 0.15) {\n        return false;\n    }\n    \n    if (pos.y < 0.1 * cos(-16.0 * iGlobalTime + 10.0 * (pos.x - ghostPos.x)) + ghostPos.y \/ etirement) {\n        return false;\n    }\n    \n    return true;\n}\n\n\nbool pumpkin (vec2 pos, vec2 pumpkinPos) {\n    \n    float etirement = 1.4;\n    vec2 posEtire = vec2(pos.x, pos.y * etirement);\n\n    \n    if (length(posEtire - pumpkinPos) > 2.0) {\n        return false;\n    }\n    \n    vec2 leftEye  = pumpkinPos + vec2(-0.7, 0.5);\n    vec2 rightEye = pumpkinPos + vec2(0.7, 0.5);\n    \n    if (length(posEtire - leftEye) < 0.3) {\n        return false;\n    }\n    \n    if (length(posEtire - rightEye) < 0.3) {\n        return false;\n    }\n    \n    \/\/Mouth\n    vec2 relativePos = pos - pumpkinPos;\n    if (abs(relativePos.y - 0.15 * cos(2.0 * iGlobalTime + 12.0 * relativePos.x)) < 0.1 * cos(1.3 * relativePos.x)) {\n        return false;\n    }\n    \n    return true;\n}\n\nvoid mainImage( out vec4 color, in vec2 pixCoords )\n{\n    \n    float zoom  = (iResolution.x \/ 14.0);\n    vec2 camera = vec2(5.0, 4.0);\n    vec2 pos    = (pixCoords.xy \/ zoom) - camera;\n    \n    vec4 white  = vec4(1.0, 1.0, 1.0, 1.0);\n    vec4 orange = vec4(1.0, 0.6, 0.0, 1.0);\n    \n   \n    \/\/****** BACKGROUND\n    float light = (cos(pos.y * 3.0 + 6.0 * iGlobalTime) + 1.0) * 0.3;\n    color = vec4(0.0, light, light * (0.5 + 0.5 * cos(pos.x * 30.0)), 1.0);\n    \n    \n    \n    \/\/****** GHOSTS\n    if (ghost(pos, vec2(-1.0, 1.0))) {\n        color = (color + 3.0 * white) \/ 4.0;\n    }\n    \n    if (ghost(pos, vec2(0.5, 1.5))) {\n        color = (color + 3.0 * white) \/ 4.0;\n    }\n    \n    if (ghost(pos, vec2(3.0, 0.0))) {\n        color = (color + 3.0 * white) \/ 4.0;\n    }\n    \n    \n    \/\/****** PUMPKIN\n    if (pumpkin(pos, vec2(1.0, -2.5))) {\n        color = orange;\n    }\n}\n\n","name":"","description":"","type":"image"}]}}