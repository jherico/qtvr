{"Shader":{"ver":"0.1","info":{"id":"Xdd3RS","date":"1450457525","viewed":205,"name":"Mystique","username":"Harha","description":"Circles bouncing around on my screen turned into this weirdness.<br\/><br\/>Just a short playaround session. Music is a module by a soundcloud user called \"Chiptune\", who is apparently ReZ now that I did a bit of research.","likes":6,"published":3,"flags":64,"tags":["fft","audio","weird","fourier"],"hasliked":0},"renderpass":[{"inputs":[{"id":471,"src":"https:\/\/soundcloud.com\/chiptune\/positive-waves-extended","ctype":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"#define PI 3.14159265359\n#define t iGlobalTime\n\nbool circle(in float r, in vec2 o, in vec2 v)\n{\n    return (length(o - v) <= r) ? true : false;\n}\n\nvec4 freq(in float f){\n\tfloat fft  = texture2D(iChannel0, vec2(f, 0.25)).x; \n\tvec3 col = vec3(fft, 4.0 * fft * (1.0 - fft), 1.0 - fft) * fft;\n    return max(vec4(col, 1.0), 0.0);\n}\n\nvoid mainImage(out vec4 c, in vec2 f)\n{\n\tvec2 uv = (f.xy \/ iResolution.xy - 0.5);\n    uv.x *= iResolution.x \/ iResolution.y;\n    c = vec4(0.0);\n    vec2 o = vec2(cos(PI * t) * 0.2, sin(PI * t * 0.33) * 0.2);\n    for (float w = 0.0; w < 1.0; w += 0.1)\n    {\n    \tfloat a = 0.25 + freq(length(uv) * 0.25).r * 0.25;\n\t\tc += smoothstep(0.0, 1.0, a * abs(sin(PI * t + 1.0)) * vec4(cos(PI * w * t), sin(w), tan(w), 1.0) * vec4(circle(a, o, uv \/ w)));\n    }\n}","name":"","description":"","type":"image"}]}}