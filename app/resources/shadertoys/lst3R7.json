{"Shader":{"ver":"0.1","info":{"id":"lst3R7","date":"1448748927","viewed":315,"name":"TruchetFlip2","username":"FabriceNeyret2","description":"a variant from jt's https:\/\/www.shadertoy.com\/view\/4st3R7","likes":10,"published":3,"flags":0,"tags":["2d","truchettiles","short"],"hasliked":0},"renderpass":[{"inputs":[{"id":30,"src":"\/presets\/tex16.png","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/ a variant from jt's https:\/\/www.shadertoy.com\/view\/4st3R7\n\/\/ beside code golfing, main difference is s + S\n\nfloat t = iGlobalTime, s;\n#define R(s) texture2D(iChannel0, s + t\/1e3).x  \/\/ random generator\n#define S(v) smoothstep(.45,.55, len(v))        \/\/ use either len() or length()\n\/\/#define S(v) step(.05, abs(len(v)-.5))        \n\nfloat len(vec2 v) {                             \/\/ roundness tuning. richer than length(v)\n    float w = .2 + 1.6*abs(fract(t\/16.)-.5);    \/\/ 1\/w in [1\/5 .. 1]\n    v = pow(v, vec2(1.\/w));\n    return pow(v.x+v.y, w);\n}\n\n\nvoid mainImage( out vec4 O,  vec2 v ) {\n    vec2 w = ceil(v *= 10.\/iResolution.y);\n    v.x *= s = sign( R(w\/128.) - .5 );          \/\/ random flip (for orientation and coloring)\n    s *= 2.*mod(w.x+w.y,2.)-1.;                 \/\/ checkboard flip (for coloring)\n\n    O -= s*S(v=fract(v))*S(1.-v) + .5-.5*s + O++;  \/\/  O = S(v)S(1-v); if (s<0) O=1-O\n}","name":"","description":"","type":"image"}]}}