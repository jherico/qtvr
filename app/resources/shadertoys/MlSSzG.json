{"Shader":{"ver":"0.1","info":{"id":"MlSSzG","date":"1444512541","viewed":1752,"name":"protoplasm - shorter","username":"FabriceNeyret2","description":"short & simplified version of https:\/\/www.shadertoy.com\/view\/lllSWr#","likes":23,"published":3,"flags":0,"tags":["3d","raymarching","short"],"hasliked":0},"renderpass":[{"inputs":[{"id":30,"src":"\/presets\/tex16.png","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/ short & simplified version of https:\/\/www.shadertoy.com\/view\/lllSWr#\n\n\nmat4 m = mat4( 0,   1.8,  1.2, 0,\n              -1.6,  .7, -1,   0,\n       \t  \t  -1.2, -1,   1.3, 0,\n               0,    0,   0,   0);\n\/\/ float m = 2.; \/\/ shorter but less random\n\n\/\/ --- compact Perlin noise\n\n#define N(p)   ( 2.* texture2D( iChannel0, (p).xy\/256. ) - 1. )\nvec4 P(vec4 p) { return N(p*=m\/4.)\/2. + N(p*=m)\/4. + N(p*=m)\/8.  + N(p*=m)\/16. ;}\n\n\/\/ --- using the base ray-marcher of Trisomie21: https:\/\/www.shadertoy.com\/view\/4tfGRB#\n\nvoid mainImage( out vec4 f, vec2 w ) {\n    \n    vec4 p = vec4(w,0,1)\/iResolution.yyxy-.5, d,u,t; p.x-=.4; \/\/ init ray \n    d = p; p.z += 10.;                        \/\/ ray dir = ray0-vec3(0)\n    float  T=iGlobalTime, x=1e9, l;\n    f = vec4(0,.2,0,1);                       \/\/ bg color\n\n    for (float i=1.; i>0.; i-=.01)            \/\/ ray march\n        u = .03* floor( p\/vec4(8,8,1,1) +3.5 ), t = p, \n\n        \/\/ try = instead of += !\n \t\tt +=   P( t+vec4(T,0,0,0) )  *  ( 4.6 - 4.*cos(T\/16.) ),\n \n        x = max( abs( fract(l=length(t.xyz)) -.5 ) ,  l-7. ),  \n        x<.01 ? f += (1.-f)*.4*i*i, x=.1 : x, \/\/ hit : blend voxel\n                \n        p += d*x;    \n     \n}\n","name":"","description":"","type":"image"}]}}