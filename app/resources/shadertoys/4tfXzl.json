{"Shader":{"ver":"0.1","info":{"id":"4tfXzl","date":"1438904466","viewed":595,"name":"Warped Clouds","username":"clayjohn","description":"Using IQ's domain warping described here  http:\/\/www.iquilezles.org\/www\/articles\/warp\/warp.htm to create interesting clouds.","likes":9,"published":3,"flags":0,"tags":["clouds","domainwarping"],"hasliked":0},"renderpass":[{"inputs":[{"id":17,"src":"\/presets\/tex12.png","ctype":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"id":30,"src":"\/presets\/tex16.png","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"float noise( in vec2 x )\n{\n    vec2 p = floor(x);\n    vec2 f = fract(x);\n\tvec2 uv = p.xy + f.xy*f.xy*(3.0-2.0*f.xy);\n\treturn texture2D( iChannel0, (uv+118.4)\/256.0, -100.0 ).x;\n}\n\nfloat fbm( vec2 x) {\n    float h = 0.0;\n\n    for (float i=1.0;i<10.0;i++) {\n        h+=noise(x*pow(1.6, i))*0.9*pow(0.6, i);\n    }\n    return h;\n}\n\nfloat warp(vec2 p, float mm) {\n    float m = 4.0;\n    vec2 q = vec2(fbm(vec2(p)), fbm(p+vec2(5.12*iGlobalTime*0.01, 1.08)));\n    \n    vec2 r = vec2(fbm((p+q*m)+vec2(0.1, 4.741)), fbm((p+q*m)+vec2(1.952, 7.845))); \n    m \/= mm;\n    return fbm(p+r*m);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfragCoord+=vec2(iGlobalTime*100.0, 0.0);\n    float col = warp(fragCoord*0.004, 12.0+fbm(fragCoord*0.005)*16.0);\n    float y = pow(1.0-fragCoord.y\/iResolution.y, 2.0);\n\tfragColor = mix(vec4(0.2+0.3*y, 0.4+0.2*y, 1.0, 1.0), vec4(1.0), smoothstep(0.5, 1.0, col));\n}\n\n","name":"","description":"","type":"image"}]}}