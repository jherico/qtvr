{"Shader":{"ver":"0.1","info":{"id":"ltXXDS","date":"1439323129","viewed":29,"name":"Car Swiper alpha map","username":"kroltan","description":"Concept to demonstrate an alpha map to a friend","likes":0,"published":3,"flags":0,"tags":["procedural","2d","alpha"],"hasliked":0},"renderpass":[{"inputs":[{"id":5,"src":"\/presets\/tex04.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"id":17,"src":"\/presets\/tex12.png","ctype":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"#define tau 6.283185307179586476925286766559\n\n#define center vec2(0.5, 0.0)\n#define radius 0.5\n#define speed 0.5\n\nfloat timed_angle(vec2 pos, float rawtime) {\n    float anglePercent = atan(pos.y, pos.x) \/ tau + 0.5;\n    float time = mod(rawtime, 3.0) - 1.0;\n    return mod(anglePercent + time, 1.0);\n}\n\nvec4 swiper(vec2 uv) {\n    vec2 pos = uv - center;\n    \n    if (length(pos) < radius && pos.y > 0.0) {\n        float t = iGlobalTime * speed;\n        float angle = timed_angle(pos, t);\n        float antiangle = 1.0 -timed_angle(pos, -t);\n        return vec4(1,1,1,1.0) * angle * antiangle;\n    } else {\n        return vec4(1,1,1,1);\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 uv = fragCoord.xy \/ iResolution.xy;\n    vec4 tex = texture2D(iChannel0, -uv + vec2(1,1));\n    vec4 texN = texture2D(iChannel1, -uv + vec2(1,1));\n    fragColor = mix(tex, texN,swiper(uv).w);\n}","name":"","description":"","type":"image"}]}}