{"Shader":{"ver":"0.1","info":{"id":"Xsf3Rn","date":"1357136829","viewed":1180,"name":"Motion Blur","username":"iq","description":"Motion blur on a 2D deformation effect","likes":7,"published":3,"flags":0,"tags":["2d"],"hasliked":0},"renderpass":[{"inputs":[{"id":7,"src":"\/presets\/tex06.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/ Created by inigo quilez - iq\/2013\n\/\/ License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\nvec3 deform( vec2 p, float scale )\n{\n    vec2 uv;\n   \n\t\n    float mtime = scale+iGlobalTime;\n\n\tp.x += 0.5*sin(1.1*mtime);\n\tp.y += 0.5*sin(1.3*mtime);\n\n\tfloat a = atan(p.y,p.x);\n    float r = sqrt(dot(p,p));\n    float s = r * (1.0+0.5*cos(mtime*1.7));\n\n    uv.x = .1*mtime +.05*p.y+.05*cos(mtime+a*2.0)\/s;\n    uv.y = .1*mtime +.05*p.x+.05*sin(mtime+a*2.0)\/s;\n\n    float w = 0.8-0.2*cos(mtime+3.0*a);\n\n    vec3 res = texture2D( iChannel0, 0.5*uv ).xyz*w;\n    return res;\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 q = fragCoord.xy \/ iResolution.xy;\n    vec2 p = -1.0 + 2.0 * q;\n    vec3 total = vec3(0.0);\n    float w = 0.0;\n    for( int i=0; i<20; i++ )\n    {\n        vec3 res = deform(p,w);\n        total += res;\n        w += 0.01;\n    }\n    total \/= 20.0;\n\n\tw = 2.0*(0.5 + 0.5*pow( 16.0*q.x*q.y*(1.0-q.x)*(1.0-q.y), 0.25 ));\n    fragColor = vec4( total*w,1.0);\n}","name":"","description":"","type":"image"}]}}