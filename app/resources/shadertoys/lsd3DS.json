{"Shader":{"ver":"0.1","info":{"id":"lsd3DS","date":"1452079811","viewed":255,"name":"Mandelbrot (simple zoom)","username":"sqrt_1","description":"Mandelbrot test from the Humus mandelbrot demo (http:\/\/humus.name\/index.php?page=3D&ID=85).","likes":5,"published":3,"flags":0,"tags":["fractal"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"\/\/Mandelbrot demo ported from Humus demo (http:\/\/humus.name\/index.php?page=3D&ID=85)\n\n\/\/ Calculate the position in the Mandelbrot (typically passed as a shader constant)\nvec3 CalcOffset()\n{\n  float time = iGlobalTime * 1000.;\n\n  float tt = mod(time,8192.);  \n  \n  float targetIndex = mod(time \/ 8192., 5.);\n  vec2 pos1 = vec2(0.30078125, 0.0234375); \n  vec2 pos2 = vec2(-0.82421875,0.18359375);   \n    \n  if(targetIndex > 1.)\n  {\n    pos1 = pos2;\n    pos2 = vec2(+0.07031250, -0.62109375);      \n  }\n  if(targetIndex > 2.)\n  {\n    pos1 = pos2;      \n    pos2 = vec2(-0.07421875, -0.66015625);            \n  }\n  if(targetIndex > 3.)\n  {\n    pos1 = pos2;      \n    pos2 = vec2(-1.65625, 0.);                  \n  }\n  if(targetIndex > 4.)\n  {\n    pos1 = pos2;      \n    pos2 = vec2(0.30078125, 0.0234375);                  \n  }\n    \n  float t1 = tt * (1. \/ 8192.);\n  float f = 4. * (t1 - t1 * t1);\n  f *= f;\n  f *= f;\n  f *= f;\n  f *= f;\n  float s = t1;\n  s = s * s * (3. - s - s);\n  s = s * s * (3. - s - s);\n  s = s * s * (3. - s - s);\n  s = s * s * (3. - s - s);    \n    \n  return vec3(mix(pos1, pos2, s),\n              f + (1. \/ 8192.));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec3 tex = CalcOffset();\n  vec2 x = (fragCoord * (2.\/iResolution.y) - 1.)*tex.z + tex.xy;\n  vec2 y=x;\n  vec2 z=y;\n    \n  float lw = 255.;\n  for(int w=0; w<255; w++)\n  {\n    if(y.x < 5.)\n    {   \n      y=x*x;\n      x.y*=x.x*2.;\n      x.x=y.x-y.y;\n      x+=z;\n      y.x+=y.y;\n\n      lw-=1.;\n    }\n  }\n  fragColor = sin(vec4(2.,3.5,5.,5.) + (lw\/18. + log(y.x) \/ 28.)) \/ 2. + 0.5;\n  fragColor.w=1.;\n}\n\n\n","name":"","description":"","type":"image"}]}}