{"Shader":{"ver":"0.1","info":{"id":"ltB3zz","date":"1426624295","viewed":689,"name":"CAR-FIELD","username":"Branch","description":"char","likes":3,"published":3,"flags":0,"tags":["character"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"struct polygon{\n\tvec2 A, B, C;\n};\nfloat roundBox(vec2 coord, vec2 pos, vec2 b ){\n  return length(max(abs(coord-pos)-b,0.0));\n}\nfloat box(vec2 coord, vec2 pos, vec2 size){\n\tif((coord.x<(pos.x+size.x)) &&\n\t   (coord.x>(pos.x-size.x)) &&\n\t   (coord.y<(pos.y+size.y)) && \n\t   (coord.y>(pos.y-size.y)) ) \n\t\treturn 1.0;\n\treturn 0.0;\n}\nfloat sun(vec2 coord, vec2 pos, float size){\n\tif(length(coord-pos)<size)\n\t\treturn 1.0;\n\treturn 0.0;\n}\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nfloat sign(vec2 p1, vec2 p2, vec2 p3){\n  return (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\n}\n\nint PointInTriangle(vec2 pt, vec2 v1, vec2 v2, vec2 v3){\n\tint b1, b2, b3;\n\n\tif(sign(pt, v1, v2) < 0.0) b1=1;\n\tif(sign(pt, v2, v3) < 0.0) b2=1;\n\tif(sign(pt, v3, v1) < 0.0) b3=1;\n\tif((b1 == b2) && (b2 == b3))\n\t\treturn 1;\n\treturn 0;\n}\n\nint PointInTriangle(vec2 pt, polygon X){\n\tint b1, b2, b3;\n\n\tif(sign(pt, X.A, X.B) < 0.0) b1=1;\n\tif(sign(pt, X.B, X.C) < 0.0) b2=1;\n\tif(sign(pt, X.C, X.A) < 0.0) b3=1;\n\tif((b1 == b2) && (b2 == b3))\n\t\treturn 1;\n\treturn 0;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat suu=1.01*10.0;\n\tvec4 tulos;\n\tvec4 lopullinentulos=vec4(1.0);\n\tvec2 uv = fragCoord.xy \/ iResolution.xy;\n\tfloat aspectCorrection = (iResolution.x\/iResolution.y);\n\tvec2 coordinate_entered = 2.0 * uv - 1.0;\n\tfor(float rgbare=0.0; rgbare<2.0; rgbare++){\n\tvec2 coord = vec2(aspectCorrection,1.0) *coordinate_entered;\n\tcoord.x*=1.0+rgbare*0.009;\n\tcoord*=1.0+0.1*sin(1.01*0.1);\n\ttulos=vec4(vec3(140.0\/255.0, 110.0\/255.0, 135.0\/255.0),1.0);\n        \n        \n    if(roundBox(coord, vec2(0.9,0.6), vec2(.2))<0.2)\n        tulos.rgb = vec3(1.,.6,.0);\n    if(roundBox(coord, vec2(-0.9,0.6), vec2(.2))<0.2)\n        tulos.rgb = vec3(1.,.6,.0);\n        \n    if(roundBox(coord, vec2(0.), vec2(.7))<0.2)\n        tulos.rgb = vec3(1.,.6,.0)*floor(mod(coord.x+coord.y,1.)+.4);\n    if(roundBox(coord, vec2(0.), vec2(.6))<0.2)\n        tulos.rgb = vec3(1.,.6,.0);\n        \n        \n        \n    if(roundBox(coord, vec2(0.4,-0.4), vec2(.2))<0.2)\n        tulos.rgb = vec3(1.,.8,.6);\n    if(roundBox(coord, vec2(0.5,0.3), vec2(.1))<0.2)\n        tulos.rgb = vec3(1.);\n    if(roundBox(coord, vec2(-0.5,0.1), vec2(.2))<0.2)\n        tulos.rgb = vec3(1.);\n    if(roundBox(coord, vec2(-0.5,0.1), vec2(.012))<0.12)\n        tulos.rgb = vec3(0.);\n    if(roundBox(coord, vec2(0.5,0.3), vec2(.012))<0.12)\n        tulos.rgb = vec3(0.);\n    if(roundBox(coord, vec2(1.,-0.6), vec2(0.3,.012))<0.02)\n        tulos.rgb = vec3(0.);\n    if(roundBox(coord, vec2(1.,-0.4), vec2(0.3,.012))<0.02)\n        tulos.rgb = vec3(0.);\n    if(roundBox(coord, vec2(-.2,-0.4), vec2(0.3,.012))<0.02)\n        tulos.rgb = vec3(0.);\n    if(roundBox(coord, vec2(-.2,-0.6), vec2(0.3,.012))<0.02)\n        tulos.rgb = vec3(0.);\n    if(roundBox(coord, vec2(.4,-0.6), vec2(0.1,.012))<0.02)\n        tulos.rgb = vec3(0.);\n\ttulos.xyz=tulos.xyz-vec3(min(max(-0.44+length(coord)*0.41,0.0),1.0))+vec3(0.06*rand(vec2(coord.x+coord.y,1.01*coord.y*coord.x)));\n\t\n\tif(rgbare==0.0)\n\t\tlopullinentulos.r=tulos.r;\n\tif(rgbare==1.0)\n\t\tlopullinentulos.gb=tulos.gb;\n\t}\n\tif(mod(fragCoord.y,2.0)<1.0)   \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n\tlopullinentulos.xyz=lopullinentulos.xyz\/1.3;\n\tfragColor = lopullinentulos;\n}","name":"","description":"","type":"image"}]}}