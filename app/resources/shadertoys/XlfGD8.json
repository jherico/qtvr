{"Shader":{"ver":"0.1","info":{"id":"XlfGD8","date":"1421277515","viewed":387,"name":"Yin-Yang","username":"4rknova","description":"Yin Yang","likes":4,"published":3,"flags":0,"tags":["yang","yin","yinyang"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"\/\/ by Nikos Papadopoulos, 4rknova \/ 2015\n\/\/ Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n#define AA 4.                  \/\/ Anti-aliasing\n#define OL .075                \/\/ The outline width\n#define SC 1.1                 \/\/ Scale\n#define BG vec3(.15, .20, .25) \/\/ Background Color\n#define S0 vec3(1)             \/\/ Dark Color\n#define S1 vec3(0)             \/\/ Light Color\n#define S3 vec3(0)             \/\/ Ring Color\n\n\/\/ 0.0 : Outside the shape\n\/\/ 0.5 : Inside the shape, dark area\n\/\/ 1.0 : Inside the shape, light area\n\/\/ 2.0 : Ring\nfloat yinyang(vec2 p)\n{\n    vec4 c = vec4(.0, .03125, .25, .5);\n    vec4 s = p.xyxy + c.xwxx - c.xxxw;\n    vec3 d = vec3(dot(p,p), dot(s.xy, s.xy), dot(s.zw, s.zw));\n    \n    float r = step(step(d.y, c.z) - step(d.z, c.z) + ceil(p.x), c.w)\n                 + step(d.y, c.y) - step(d.z, c.y);\n\n    return\n#ifdef OL       \n          step(d.x, 1.) - step(d.x, 1. + OL) < 0. ? 2. :\n#endif \/* OL *\/\n          step(d.x, 1.) * c.w * (1. + ceil(r));\n}\n\nvec3 sample(vec2 p)\n{\n    float c = yinyang(p);\n    \n    if      (c == 2.) return S3;\n    else if (c == 1.) return S0;\n    else if (c == .5) return S1;\n\treturn BG;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord.xy \/ iResolution.xy * 2. - 1.)\n            * vec2(iResolution.x \/ iResolution.y, 1.)\n        \t* SC;\n    \n    vec3 c = vec3(0);\n    \n#ifdef AA\n    \/\/ Antialiasing via supersampling\n    float e = 1. \/ min(iResolution.y , iResolution.x);\n    for (float i = -AA; i < AA; ++i) {\n        for (float j = -AA; j < AA; ++j) {\n            c += sample(uv + vec2(i, j) * (e\/AA)) \/ (4.*AA*AA);\n        }\n    }\n#else\n    c = sample(uv);\n\n#endif \/* AA *\/\n    \n    fragColor = vec4(c, 1);\n}","name":"","description":"","type":"image"}]}}