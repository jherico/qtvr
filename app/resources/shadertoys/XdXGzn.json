{"Shader":{"ver":"0.1","info":{"id":"XdXGzn","date":"1357136829","viewed":2216,"name":"Deform - square tunnel II","username":"iq","description":"A 2D square tunnel, kind of.","likes":8,"published":3,"flags":0,"tags":["2d","planedeformation"],"hasliked":0},"renderpass":[{"inputs":[{"id":1,"src":"\/presets\/tex00.jpg","ctype":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"id":3,"src":"\/presets\/tex02.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/ Created by inigo quilez - iq\/2013\n\/\/ License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = -1.0 + 2.0 * fragCoord.xy \/ iResolution.xy;\n    vec2 uv;\n\n    float r = pow( pow(p.x*p.x,16.0) + pow(p.y*p.y,16.0), 1.0\/32.0 );\n    uv.x = .5*iGlobalTime + 0.5\/r;\n    uv.y = atan(p.y,p.x)\/3.1416;\n\t\n\tfloat h = sin(32.0*uv.y);\n    uv.x += 0.85*smoothstep( -0.1,0.1,h);\n    vec3 col = texture2D( iChannel1, 2.0*uv ).xyz;\n    col = mix( col, texture2D( iChannel0, uv ).xyz, smoothstep(0.9,1.1,abs(p.x\/p.y) ) );\n\t\n    r *= 1.0 - 0.3*(smoothstep( 0.0, 0.3, h ) - smoothstep( 0.3, 0.96, h ));\n\t\n    fragColor = vec4( col*r*r*1.2,1.0);\n}","name":"","description":"","type":"image"}]}}