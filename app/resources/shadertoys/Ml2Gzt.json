{"Shader":{"ver":"0.1","info":{"id":"Ml2Gzt","date":"1431546124","viewed":710,"name":"Ghost Vision","username":"elliotfiske","description":"Makin' a sweet game where you're a ghost! This is what it looks like when you're invisible.<br\/><br\/>Forked (stolen??) from JESTERRRRRR at https:\/\/www.shadertoy.com\/view\/MsS3RV","likes":1,"published":3,"flags":0,"tags":["game","fbo"],"hasliked":0},"renderpass":[{"inputs":[{"id":1,"src":"\/presets\/tex00.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"const float PI = 3.1415926535897932;\n\nconst float speed = 0.1;\nconst float emboss = 0.70;\nconst float intensity = 0.6;\nconst int steps = 8;\nconst float frequency = 9.0;\nconst int angle = 7;\n\nconst float delta = 200.;\n\nfloat time = iGlobalTime;\/\/*1.3;\n\nfloat col(vec2 coord) {\n    float delta_theta = 2.0 * PI \/ float(angle);\n    float col = 0.0;\n    float theta = 0.0;\n    \n    for (int i = 0; i < steps; i++) {\n        vec2 adjc = coord;\n        theta = delta_theta*float(i);\n        adjc.x += cos(theta)*time*speed;\n        adjc.y -= sin(theta)*time*speed;\n        col = col + cos( (adjc.x*cos(theta) - adjc.y*sin(theta))*frequency)*intensity;\n    }\n\n    return cos(col);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 p = (fragCoord.xy) \/ iResolution.xy;\n    vec2 c1 = p;\n    vec2 c2 = p;\n    float cc1 = col(c1);\n\n    c2.x += iResolution.x\/delta;\n    float dx = emboss*(cc1-col(c2))\/delta;\n\n    c2.x = p.x;\n    c2.y += iResolution.y\/delta;\n    float dy = emboss*(cc1-col(c2))\/delta;\n    \n    vec2 center = vec2(iResolution.x \/ 2.0, iResolution.y \/ 2.0);\n    float distToCenter = distance(center, fragCoord.xy);\n    dx *= distToCenter \/ 600.;\n    dy *= distToCenter \/ 600.;\n\n    c1.x += dx*2.;\n    c1.y = -(c1.y+dy*2.);\n\n    vec4 col = texture2D(iChannel0,c1);\n    \n    \/\/ Make everything lighter and blue\n    col.z = (col.x + col.y + col.z) \/ 3.0 * 1.6;\n    col.x \/= 1.2;\n    col.y \/= 1.2;\n    fragColor = col;\n}","name":"","description":"","type":"image"}]}}