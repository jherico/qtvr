{"Shader":{"ver":"0.1","info":{"id":"4d2Xzc","date":"1414484973","viewed":1962,"name":"Flakes","username":"iq","description":"Texture convolution based flakes","likes":18,"published":3,"flags":0,"tags":["2d","convolution"],"hasliked":0},"renderpass":[{"inputs":[{"id":4,"src":"\/presets\/tex03.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/ Created by inigo quilez - iq\/2014\n\/\/ License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = fragCoord.xy\/iResolution.xy;\n        \n    vec3  col = vec3( 0.0 );\n    \n    for( int i=0; i<150; i++ )\n    {\n        float an = 6.2831*float(i)\/150.0;\n        vec2  of = vec2( cos(an), sin(an) ) * (1.0+0.6*cos(7.0*an+iGlobalTime)) + vec2( 0.0, iGlobalTime );\n        col = max( col, texture2D( iChannel0, p + 20.0*of\/iResolution.xy ).xyz );\n        col = max( col, texture2D( iChannel0, p +  5.0*of\/iResolution.xy ).xyz );\n    }\n    \n    col = pow( col, vec3(1.0,2.0,3.0) ) * pow( 4.0*p.y*(1.0-p.y), 0.25 );\n    \n\tfragColor = vec4( col, 1.0 );\n}","name":"","description":"","type":"image"}]}}