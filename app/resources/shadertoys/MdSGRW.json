{"Shader":{"ver":"0.1","info":{"id":"MdSGRW","date":"1384252545","viewed":730,"name":"Colorblind Simulation","username":"hornet","description":"Data taken from<br\/>http:\/\/web.archive.org\/web\/20081014161121\/http:\/\/www.colorjack.com\/labs\/colormatrix\/<br\/>http:\/\/en.wikipedia.org\/wiki\/Color_blindness<br\/>","likes":3,"published":3,"flags":0,"tags":["filter","post","postprocess","colorblind","colorblindness"],"hasliked":0},"renderpass":[{"inputs":[{"id":12,"src":"\/presets\/vid01.webm","ctype":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy \/ iResolution.xy;\n\t\n\tint id;\n\t\n    if ( iMouse.w > 0.5)\n    {\n        vec2 muv = iMouse.xy \/ iResolution.xy;\n\t\tid = int(floor(muv.x * 3.0)) + int(floor(muv.y * 3.0))*3;\n    }\n    else\n    {\n        id = int(floor(uv.x * 3.0)) + int(floor(uv.y * 3.0))*3;\n    }\n\n    vec2 texuv = (iMouse.w>0.5) ? uv : fract( uv * 3.0 );\n\tvec4 col = texture2D( iChannel0, texuv );\n\n\n    \/\/test\n    \/\/col = vec4( uv.x, uv.y, 0.5+0.5*sin(iGlobalTime), 1.0 );\n        \n\t\/\/note: data from\n\t\/\/ http:\/\/web.archive.org\/web\/20081014161121\/http:\/\/www.colorjack.com\/labs\/colormatrix\/\n\t\/\/ http:\/\/en.wikipedia.org\/wiki\/Color_blindness\n\t \n\tvec3 c_r = vec3(100,0,0);\n\tvec3 c_g = vec3(0,100,0);\n\tvec3 c_b = vec3(0,0,100);\n\t\n\t\/\/Deuteranomaly (\"red\/green\" 6% of males, 0.4% of females)\n\tif ( id == 0 ) {\n\t\tc_r = vec3(80, 20, 0);\n\t\tc_g = vec3(25.833, 74.167, 0);\n\t\tc_b = vec3(0, 14.167, 85.833);\n\t}\n\t\n\t\/\/Protanopia (\"red\/green\", 1% of males)\n\telse if ( id == 1 ) {\n\t\tc_r = vec3(56.667, 43.333, 0);\n\t\tc_g = vec3(55.833, 44.167, 0);\n\t\tc_b = vec3(0, 24.167, 75.833);\n\t}\n\t\n\t\/\/Protanomaly (\"red\/green\", 1% of males, 0.01% of females)\n\telse if ( id == 2 ) {\n\t\tc_r = vec3(81.667, 18.333, 0);\n\t\tc_g = vec3(33.333, 66.667, 0);\n\t\tc_b = vec3(0, 12.5, 87.5);\n\t}\n\t\n\t\/\/Deuteranopia (\"red\/green\", 1% of males)\n\telse if ( id == 3 ) {\n\t\tc_r = vec3(62.5, 37.5, 0);\n\t\tc_g = vec3(70, 30, 0);\n\t\tc_b = vec3(0, 30, 70);\n\t}\n\t\n\telse if ( id == 4 ) {\n        \/\/NO ADJUSTMENT\n\t}\n\t\n\t\/\/Tritanomaly (\"blue\/yellow\", 0.01% for males and females)\n\telse if ( id == 5 ) {\n\t\tc_r = vec3(96.667, 3.333, 0);\n\t\tc_g = vec3(0, 73.333, 26.667);\n\t\tc_b = vec3(0, 18.333, 81.667);\n\t}\n\t\n\t\/\/Achromatopsia (\"Total color blindness\")\n\telse if ( id == 6 ) {\n\t\tc_r = vec3(29.9, 58.7, 11.4);\n\t\tc_g = vec3(29.9, 58.7, 11.4);\n\t\tc_b = vec3(29.9, 58.7, 11.4);\n\t}\n\t\n\t\/\/Achromatomaly (\"Total color blindness\")\n\telse if ( id == 7 ) {\n\t\tc_r = vec3(61.8, 32, 6.2);\n\t\tc_g = vec3(16.3, 77.5, 6.2);\n\t\tc_b = vec3(16.3, 32.0, 51.6);\n\t}\n\t\/\/Tritanopia (\"blue\/yellow\", <1% of males and females)\n    else if ( id == 8 )\n    {\n\t\tc_r = vec3(95, 5, 0);\n\t\tc_g = vec3(0, 43.333, 56.667);\n\t\tc_b = vec3(0, 47.5, 52.5);\n    }\n    else\n    {\n        c_r = vec3(0,0,0);\n        c_g = vec3(0,0,0);\n        c_b = vec3(0,0,0);\n    }\n    \n\t\n\tc_r \/= 100.0;\n\tc_g \/= 100.0;\n\tc_b \/= 100.0;\n\t\n\tvec3 rgb = vec3( dot(col.rgb,c_r), dot(col.rgb,c_g), dot(col.rgb,c_b) );\n\n\n\tfragColor = vec4( rgb, 1 );\n}","name":"","description":"","type":"image"}]}}