{"Shader":{"ver":"0.1","info":{"id":"lllXRs","date":"1439139667","viewed":830,"name":"Brownyan Cat","username":"Patapom","description":"Nyan!","likes":2,"published":3,"flags":0,"tags":["nyan"],"hasliked":0},"renderpass":[{"inputs":[{"id":14,"src":"\/presets\/tex14.png","ctype":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/ Silly Brownyan Cat ^._.^\n\/\/\nfloat hash(vec2 p) { return fract(21654.65155 * sin(35.51 * p.x + 45.51 * p.y)); }\n\nfloat noise(vec2 p) {\n\tvec2 fl = floor(p);\n\tvec2 fr = fract(p);\n\tfr.x = smoothstep(0.0,1.0,fr.x);\n\tfr.y = smoothstep(0.0,1.0,fr.y);\t\n\tfloat a = mix(hash(fl + vec2(0.0,0.0)), hash(fl + vec2(1.0,0.0)),fr.x);\n\tfloat b = mix(hash(fl + vec2(0.0,1.0)), hash(fl + vec2(1.0,1.0)),fr.x);\n\treturn mix(a,b,fr.y);\n}\n\nfloat fbm(vec2 p) {\n\tfloat v = 0.0, f = 1.0, a = 0.6;\n\tfor ( int i = 0; i < 5; i++ ) {\n\t\tv += noise(p * f) * a;\n\t\tf *= 2.0;\n\t\ta *= 0.5;\n\t}\n\treturn v;\n}\n\nvec4 Nyan( in vec2 _uv, vec2 _Position, vec2 _Direction, float _Size, float _Slice ) {\n    vec2\tlsPos = vec2( (_uv.x - _Position.x) \/ _Size, (_uv.y - _Position.y) \/ _Size );\n\tvec2\tX = vec2( _Direction.x, _Direction.y );\n    vec2\tY = vec2( -_Direction.y, _Direction.x );\n    vec2\tUV = clamp( vec2( (32.0 \/ 40.0) * dot( lsPos, X ) + 0.5, 0.5 - dot( lsPos, Y ) ), 0.0, 1.0 );\n\t   \t\tUV.x = (UV.x + floor( mod( _Slice, 6.0 ) )) * 40.0 \/ 256.0;\n    return texture2D( iChannel0, UV );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2\tuv = vec2( fragCoord.x \/ iResolution.x, fragCoord.y \/ iResolution.x );\n    \t\tuv -= vec2( 0.5, 0.5 * iResolution.y \/ iResolution.x );\n\n    \/\/ Ludicrous speed!\n    float\ttime = 1.5 * iGlobalTime;\n    float\tt = time - floor( time );\n    \t\ttime -= t;\n    \t\tt -= 0.5;\n    \t\tt = sign(t) * pow( 2.0 * abs(t), 2.0 );\n    \t\ttime += 0.5 * (t-1.0);\n    \n    float\tsize = mix( 0.002, 0.4, fbm( vec2( time ) ) );\n    vec2\tpos = vec2( 0.2\/size * (2.0 * fbm( vec2( time ) ) - 1.0), 0.1\/size * (2.0 * fbm( vec2( 1378.09 + time ) ) - 1.0) );\n    float\ta = 6.28 * (2.0 * fbm( vec2( 17.8 + time ) ) - 1.0);\n    vec2\tdir = vec2( cos( a ), sin( a ) );\n    \n\tfragColor = Nyan( uv, pos, dir, size, 10.0 * iGlobalTime );\n    fragColor = mix( vec4(13,66,121,255)\/255.0, fragColor, fragColor.w );\n}\n","name":"","description":"","type":"image"}]}}