{"Shader":{"ver":"0.1","info":{"id":"4sXGRn","date":"1358124981","viewed":2591,"name":"Deform - relief tunnel","username":"iq","description":"A 2D tunnel with fake relief","likes":12,"published":3,"flags":0,"tags":["procedural","2d","planedeformation"],"hasliked":0},"renderpass":[{"inputs":[{"id":2,"src":"\/presets\/tex01.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"channel":"0"}],"code":"\/\/ Created by inigo quilez - iq\/2013\n\/\/ License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = -1.0 + 2.0 * fragCoord.xy \/ iResolution.xy;\n    vec2 uv;\n\n    float r = sqrt( dot(p,p) );\n\t\n    float a = atan(p.y,p.x) + 0.75*sin(0.5*r-0.5*iGlobalTime );\n\t\n\tfloat h = (0.5 + 0.5*cos(9.0*a));\n\n\tfloat s = smoothstep(0.4,0.5,h);\n\n    uv.x = iGlobalTime + 1.0\/( r + .1*s);\n    uv.y = 3.0*a\/3.1416;\n\n    vec3 col = texture2D(iChannel0,uv).xyz;\n\/\/\tcol *= 1.25;\n\n    float ao = smoothstep(0.0,0.3,h)-smoothstep(0.5,1.0,h);\n    col *= 1.0-0.6*ao*r;\n\tcol *= r*r;\n\n    fragColor = vec4(col,1.0);\n}","name":"","description":"","type":"image"}]}}