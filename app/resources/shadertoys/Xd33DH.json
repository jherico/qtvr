{"Shader":{"ver":"0.1","info":{"id":"Xd33DH","date":"1449214169","viewed":316,"name":"CircleWave2","username":"FabriceNeyret2","description":"trochoid waves caused by dephased rotations of water.<br\/>inspired by RenoM's  https:\/\/www.shadertoy.com\/view\/4dc3D8","likes":7,"published":3,"flags":0,"tags":["waves","trochoid"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"\/\/ inspired by RenoM's  https:\/\/www.shadertoy.com\/view\/4dc3D8\n\n#define SCALE 20.\n#define SPEED 9.\n#define FREQUENCY .3\n\nfloat d;\n#define D(p,o)  ( (d=length(p-o)*5.)<=.6 ? 1.-d : 0. )\n\/\/#define P(i)    if (i.y<10.) O.gb += D(i-p, .5 + r * sin( iDate.w*SPEED + i.x*FREQUENCY + vec2(1.6,0) ));\n#define P(i)    R = r * sin( iDate.w*SPEED + i.x*FREQUENCY + vec2(1.6,0)); if ((p-R).y<10.1) O.b++, O.g+= D(i-p,.5+R);\n\nvoid mainImage( out vec4 O, in vec2 U )\n{\n    O -= O;\n    vec2 R = iResolution.xy, \n         p = SCALE*(U+U\/R)\/R.y,\n         I = vec2(.5,0);\n  \/\/float r = 1.*U.y\/R.y;\n    float r = .5*exp(-4.*(.5-U.y\/R.y));\n\n    P( ceil(p))\n    P((ceil(p+.5)-.5))\n    P((ceil(p+I)-I))\n\n}","name":"","description":"","type":"image"}]}}