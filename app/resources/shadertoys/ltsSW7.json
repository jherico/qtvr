{"Shader":{"ver":"0.1","info":{"id":"ltsSW7","date":"1437322050","viewed":798,"name":"Honeycomb noise","username":"foxes","description":"an example of a Honeycomb noise, generator without sin for realization on CPU, move the mouse up and down to zoom, left and right to mix several layers.","likes":6,"published":3,"flags":0,"tags":["procedural","2d","noise"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"channel":"0"}],"code":"\n\nfloat hash(float x){ return fract(fract(x*0.31830988618379067153776752674503)*fract(x*0.15915494309189533576888376337251)*265871.1723); }\n\nfloat hash2(vec2 x) { return hash(dot(mod(x,100.0),vec2(127.1,311.7))); }\n\n\/\/float hash(float x) { return 0.0; }\n\/\/float hash2(vec2 x) { return 0.0; }\n\n\/\/float hash3(vec2 x,float anum) { return hash(dot(vec3(x,anum)+anum*0.001,vec3(127.1,311.7,0.0000001))); }\n\n\/*float noiseHoneycomb(vec2 i) {\n    vec2 c3;\n    i.x*=1.1547005383792515290182975610039;\n    c3.x=ceil(i.x);\n    vec2 b=vec2(i.y+i.x*0.5,i.y-i.x*0.5);\n    c3.y=ceil(b.x)+ceil(b.y);\n    vec3 o=fract(vec3(i.x,b.xy));\n    \n    vec4 s;\n    vec3 m1=vec3(hash3(c3+vec2(1.0,0.0),anim),hash3(c3+vec2(-1.0,-1.0),anim),hash3(c3+vec2(-1.0,1.0),anim));\n    vec3 m2=vec3(hash3(c3,anim),hash3(c3+vec2(0.0,1.0),anim),hash3(c3+vec2(0.0,-1.0),anim));\n    vec3 m3=vec3(hash3(c3+vec2(-1.0,0.0),anim),hash3(c3+vec2(1.0,1.0),anim),hash3(c3+vec2(1.0,-1.0),anim));\n    vec3 m4=vec3(m2.x,m2.z,m2.y);\n    \n    vec3 w1=vec3(o.x,(1.0-o.y),o.z);\n    vec3 w2=vec3((1.0-o.x),o.y,(1.0-o.z));\n\n    vec2 d=fract(c3*0.5)*2.0;\n    \n    s=fract(vec4(dot(m1,w1),dot(m2,w2),dot(m3,w2),dot(m4,w1)));\n      \n    return fract(mix(mix(s.z,s.w,d.x),mix(s.x,s.y,d.x),d.y));\n}*\/\n\nfloat noiseHoneycomb(vec2 i) {\n    vec2 c3;\n    i.x*=1.1547005383792515290182975610039;\n    c3.x=ceil(i.x);\n    vec2 b=vec2(i.y+i.x*0.5,i.y-i.x*0.5);\n    c3.y=ceil(b.x)+ceil(b.y);\n    vec3 o=fract(vec3(i.x,b.xy));\n    \n    vec4 s;\n    vec3 m1=vec3(hash2(c3+vec2(1.0,0.0)),hash2(c3+vec2(-1.0,-1.0)),hash2(c3+vec2(-1.0,1.0)));\n    vec3 m2=vec3(hash2(c3),hash2(c3+vec2(0.0,1.0)),hash2(c3+vec2(0.0,-1.0)));\n    vec3 m3=vec3(hash2(c3+vec2(-1.0,0.0)),hash2(c3+vec2(1.0,1.0)),hash2(c3+vec2(1.0,-1.0)));\n    vec3 m4=vec3(m2.x,m2.z,m2.y);\n    \n    vec3 w1=vec3(o.x,(1.0-o.y),o.z);\n    vec3 w2=vec3((1.0-o.x),o.y,(1.0-o.z));\n\n    vec2 d=fract(c3*0.5)*2.0;\n    \n    s=fract(vec4(dot(m1,w1),dot(m2,w2),dot(m3,w2),dot(m4,w1)));\n      \n    return fract(mix(mix(s.z,s.w,d.x),mix(s.x,s.y,d.x),d.y));\n}\n\nvoid mainImage(out vec4 o, vec2 uv)\n{\n\tuv=uv\/iResolution.y\/.1;\n    \n    float mx = iMouse.x>0.0?iMouse.x\/iResolution.x:0.5;\n    float my = iMouse.y>0.0?iMouse.y\/iResolution.y:0.5;\n    \n    float time=iGlobalTime*5.0;\n    \n    vec2 i=(uv-vec2(9.0,5.0))*my*10.0+vec2(time,time*0.5);\n    \n    if (uv.x<mx*17.8)\n        o.xyz=vec3(noiseHoneycomb(i));\n    if (uv.x>=mx*17.8) {\n        o.xyz=vec3(noiseHoneycomb(i)*0.3+noiseHoneycomb(i*6.0)*0.25+noiseHoneycomb(i*16.0)*0.2+noiseHoneycomb(i*32.0)*0.2);\n        o.xyz=o.xyz*0.7+noiseHoneycomb(i*0.25)*0.2;\n    }\n}\n","name":"","description":"","type":"image"}]}}